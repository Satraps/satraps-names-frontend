var He=Object.defineProperty,Ge=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ve=(e,t,i)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,h=(e,t)=>{for(var i in t||(t={}))Ye.call(t,i)&&ve(e,i,t[i]);if(we)for(var i of we(t))je.call(t,i)&&ve(e,i,t[i]);return e},x=(e,t)=>Ge(e,Ke(t));import{J as qe,F as Je,m as f,u as ke,a as M,b as ce,r as k,c as d,d as n,e as w,w as E,f as H,g as u,t as m,h as F,i as ae,p as S,j as N,o as l,k as D,l as Te,n as z,q as K,I as b,C as g,A as $,s as Q,v as ze,T as c,x as ue,y as U,z as T,B as C,D as Ce,E as te,G as pe,H as Y,K as Xe,L as Ze,M as Qe,N as et,O as tt,P as nt,Q as st,R as at,V as it,S as ot}from"./vendor.b315722d.js";const rt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};rt();function W(){function e(a){return a===1?"Ethereum":a===10?"Optimism":a===19?"Songbird":a===56?"BNB Smart Chain":a===69?"Optimism Testnet":a===77?"Gnosis Testnet":a===100?"Gnosis Chain":a===137?"Polygon":a===250?"Fantom":a===4002?"Fantom Testnet":a===42161?"Arbitrum":a===421611?"Arbitrum Testnet":a===421613?"Arbitrum Goerli Testnet":a===80001?"Polygon Testnet":a===3?"Ropsten":a===4?"Rinkeby":a===1313161555?"Aurora Testnet":"Unsupported Network"}function t(a){let s;if(a===137?s=["https://1rpc.io/matic","https://polygon-rpc.com/"]:a===80001?s=["https://matic-mumbai.chainstacklabs.com"]:a===10?s=["https://mainnet.optimism.io"]:a===19?s=["https://songbird.towolabs.com/rpc","https://songbird-api.flare.network/ext/C/rpc"]:a===56?s=["https://bscrpc.com"]:a===77?s=["https://sokol.poa.network"]:a===100?s=["https://rpc.xdaichain.com","https://rpc.gnosischain.com"]:a===250?s=["https://1rpc.io/ftm","https://rpcapi.fantom.network","https://rpc.ftm.tools"]:a===4002?s=["https://rpc.ankr.com/fantom_testnet","https://fantom-testnet.public.blastapi.io"]:a===42161?s=["https://1rpc.io/arb","https://arb1.arbitrum.io/rpc"]:a===421611?s=["https://rinkeby.arbitrum.io/rpc"]:a===421613?s=["https://goerli-rollup.arbitrum.io/rpc"]:a===1313161555&&(s=["https://testnet.aurora.dev"]),s){const o=s.map(r=>new qe(r));return new Je(o,1)}else return null}function i(a){let s,o;return a=="Ethereum"?(s="wallet_switchEthereumChain",o=[{chainId:"0x1"}]):a=="Ropsten"?(s="wallet_switchEthereumChain",o=[{chainId:"0x3"}]):a=="Rinkeby"?(s="wallet_switchEthereumChain",o=[{chainId:"0x4"}]):a=="Polygon Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://mumbai.polygonscan.com"],chainId:"0x13881",chainName:"Mumbai Testnet",nativeCurrency:{decimals:18,name:"Matic",symbol:"MATIC"},rpcUrls:["https://matic-mumbai.chainstacklabs.com"]}]):a=="Arbitrum Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://testnet.arbiscan.io"],chainId:"0x66EEB",chainName:"Arbitrum Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rinkeby.arbitrum.io/rpc"]}]):a=="Arbitrum Goerli Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://goerli.arbiscan.io"],chainId:"0x66EED",chainName:"Arbitrum Goerli Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://goerli-rollup.arbitrum.io/rpc"]}]):a=="Arbitrum"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://arbiscan.io"],chainId:"0xA4B1",chainName:"Arbitrum One",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://1rpc.io/arb"]}]):a=="Optimism"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://optimistic.etherscan.io/"],chainId:"0xA",chainName:"Optimism",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://1rpc.io/op"]}]):a=="Optimism Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://kovan-optimistic.etherscan.io/"],chainId:"0x45",chainName:"Optimism Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://kovan.optimism.io"]}]):a=="Polygon"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://polygonscan.com"],chainId:"0x89",chainName:"Polygon PoS Chain",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:["https://1rpc.io/matic"]}]):a=="Gnosis Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://blockscout.com/poa/sokol"],chainId:"0x4D",chainName:"Gnosis Testnet",nativeCurrency:{decimals:18,name:"SPOA",symbol:"SPOA"},rpcUrls:["https://sokol.poa.network"]}]):a=="Gnosis Chain"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],chainId:"0x64",chainName:"Gnosis Chain",nativeCurrency:{decimals:18,name:"XDAI",symbol:"XDAI"},rpcUrls:["https://rpc.gnosischain.com"]}]):a=="BNB Smart Chain"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://bscscan.com/"],chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:["https://bscrpc.com"]}]):a=="Aurora Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://testnet.aurorascan.dev/"],chainId:"0x4E454153",chainName:"Aurora Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://testnet.aurora.dev"]}]):a=="Fantom"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://ftmscan.com"],chainId:"0xFA",chainName:"Fantom",nativeCurrency:{decimals:18,name:"FTM",symbol:"FTM"},rpcUrls:["https://1rpc.io/ftm"]}]):a=="Fantom Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://testnet.ftmscan.com"],chainId:"0xFA2",chainName:"Fantom Testnet",nativeCurrency:{decimals:18,name:"FTM",symbol:"FTM"},rpcUrls:["https://rpc.ankr.com/fantom_testnet"]}]):a=="Songbird"&&(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://songbird-explorer.flare.network/"],chainId:"0x13",chainName:"Songbird",nativeCurrency:{decimals:18,name:"SGB",symbol:"SGB"},rpcUrls:["https://songbird.towolabs.com/rpc","https://songbird-api.flare.network/ext/C/rpc"]}]),{method:s,params:o}}return{getChainName:e,getFallbackProvider:t,switchNetwork:i}}var lt="/assets/satraps-logo.c26fb5ee.png";var v=(e,t)=>{for(const[i,a]of t)e[i]=a;return e};const dt={name:"Navbar",computed:x(h(h({},f("user",["getUserShortAddress","getUserSelectedName","getFreeMintEligible"])),f("network",["getNetworkName","getSupportedNetworks","getSupportedNetworkNames"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress}}),methods:{changeNetwork(e){const t=this.switchNetwork(e);window.ethereum.request({method:t.method,params:t.params})},logout(){this.disconnect(),localStorage.clear(),localStorage.setItem("connected","null")},openUrl(e){window.open(e,"_blank").focus()}},setup(){const{open:e}=ce(),{disconnect:t}=ke(),{isActivated:i}=M(),{switchNetwork:a}=W();return{isActivated:i,disconnect:t,open:e,switchNetwork:a}}},De=e=>(S("data-v-81f3e894"),e=e(),N(),e),ct={class:"navbar navbar-expand-lg navbar-dark"},ut={class:"container-fluid"},pt=De(()=>n("img",{src:lt,alt:"",class:"d-inline-block navbar-img img-fluid"},null,-1)),mt=De(()=>n("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[n("span",{class:"navbar-toggler-icon"})],-1)),ht={class:"collapse navbar-collapse",id:"navbarSupportedContent"},yt={class:"d-flex ms-auto"},ft={class:"navbar-menu-buttons"},gt=D("Claim Free ID"),bt={key:1,class:"btn-group mx-2 navbar-menu-btn"},_t={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},wt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},vt=["onClick"],kt={key:2,class:"btn-group mx-2 navbar-menu-btn"},Tt={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton2","data-bs-toggle":"dropdown","aria-expanded":"false"},Ct={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton2"},Dt=D("Profile"),xt=D("Buy ID"),At=D("Search"),Pt=D("Send tokens");function Mt(e,t,i,a,s,o){const r=k("router-link");return l(),d("nav",ct,[n("div",ut,[w(r,{to:"/",class:"navbar-brand"},{default:E(()=>[pt]),_:1}),mt,n("div",ht,[n("div",yt,[n("div",ft,[e.getFreeMintEligible?(l(),H(r,{key:0,class:"btn btn-primary mx-2 navbar-menu-btn",to:"/claim-free-domain"},{default:E(()=>[gt]),_:1})):u("",!0),a.isActivated?(l(),d("div",bt,[n("button",_t,m(e.getNetworkName),1),n("ul",wt,[n("li",null,[(l(!0),d(F,null,ae(e.getSupportedNetworkNames,p=>(l(),d("span",{class:"dropdown-item",key:p,onClick:_=>o.changeNetwork(p)},"Switch to "+m(p),9,vt))),128))])])])):u("",!0),a.isActivated?(l(),d("div",kt,[n("button",Tt,m(o.getNameOrAddress),1),n("ul",Ct,[w(r,{tag:"li",class:"dropdown-item",to:"/profile"},{default:E(()=>[Dt]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/mint-domains"},{default:E(()=>[xt]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/search-domain"},{default:E(()=>[At]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/send-tokens"},{default:E(()=>[Pt]),_:1}),n("li",{class:"dropdown-item",onClick:t[0]||(t[0]=p=>o.openUrl("https://docs.punk.domains/"))},"Docs"),n("li",{class:"dropdown-item",onClick:t[1]||(t[1]=(...p)=>o.logout&&o.logout(...p))},"Disconnect")])])):u("",!0),a.isActivated?u("",!0):(l(),d("button",{key:3,class:"btn btn-primary mx-2 navbar-menu-btn",onClick:t[2]||(t[2]=(...p)=>a.open&&a.open(...p))},"Connect wallet"))])])])])])}var St=v(dt,[["render",Mt],["__scopeId","data-v-81f3e894"]]);const Nt={name:"Footer",computed:h(h({},f("network",["isNetworkSupported"])),f("user",["isUserMinterAdmin","isUserTldAdmin","isUserRoyaltyFeeUpdater"])),setup(){const{isActivated:e}=M();return{isActivated:e}}},xe=e=>(S("data-v-6ec6100d"),e=e(),N(),e),Et={class:"container-fluid text-center mt-3"},Bt=D("Profile"),Ut={key:1},It=D("Admin"),Rt={key:3},Ft=xe(()=>n("a",{target:"_blank",href:"https://satraps.io/"},"Operated by The Satraps",-1)),$t=D(" | "),Ot=xe(()=>n("a",{target:"_blank",href:"https://punk.domains"},"Powered by Punk Domains",-1)),Vt=Te('<div class="container-fluid text-center" data-v-6ec6100d><a class="icons" href="http://docs.punk.domains" target="_blank" data-v-6ec6100d><i class="bi bi-journal-text" data-v-6ec6100d></i></a><a class="icons" target="_blank" href="https://github.com/punk-domains" data-v-6ec6100d><i class="bi bi-github" data-v-6ec6100d></i></a><a class="icons" target="_blank" href="https://discord.gg/ZRwpRZPqMH" data-v-6ec6100d><i class="bi bi-discord" data-v-6ec6100d></i></a><a class="icons" target="_blank" href="https://twitter.com/TheSatraps" data-v-6ec6100d><i class="bi bi-twitter" data-v-6ec6100d></i></a><a class="icons" href="http://blog.punk.domains" target="_blank" data-v-6ec6100d><i class="bi bi-pencil-square" data-v-6ec6100d></i></a></div>',1);function Wt(e,t,i,a,s,o){const r=k("router-link");return l(),d(F,null,[n("div",Et,[a.isActivated&&e.isNetworkSupported?(l(),H(r,{key:0,to:"/profile"},{default:E(()=>[Bt]),_:1})):u("",!0),a.isActivated&&e.isNetworkSupported?(l(),d("span",Ut," | ")):u("",!0),e.isUserMinterAdmin||e.isUserRoyaltyFeeUpdater||e.isUserTldAdmin?(l(),H(r,{key:2,to:"/admin"},{default:E(()=>[It]),_:1})):u("",!0),e.isUserMinterAdmin||e.isUserRoyaltyFeeUpdater||e.isUserTldAdmin?(l(),d("span",Rt," | ")):u("",!0),Ft,$t,Ot]),Vt],64)}var Lt=v(Nt,[["render",Wt],["__scopeId","data-v-6ec6100d"]]),O={"19":{".satrap":"0xeFBE0b46649B7A0F1e1D49CCa98aD9CF6bcFB096",".sgb":"0xBDACF94dDCAB51c39c2dD50BffEe60Bb8021949a"}},j=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"},{internalType:"uint256",name:"_royalty",type:"uint256"},{internalType:"address",name:"_factoryAddress",type:"address"},{internalType:"address",name:"_metadataAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"defaultDomain",type:"string"}],name:"DefaultDomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"domainBuyingToggle",type:"bool"}],name:"DomainBuyingToggle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"MintingDisabledForever",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"referralFee",type:"uint256"}],name:"ReferralFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldPrice",type:"uint256"}],name:"TldPriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldRoyalty",type:"uint256"}],name:"TldRoyaltyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buyingDisabledForever",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_metadataAddress",type:"address"}],name:"changeMetadataAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"changeMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referral",type:"uint256"}],name:"changeReferralFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newReceiver",type:"address"}],name:"changeRoyaltyFeeReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newUpdater",type:"address"}],name:"changeRoyaltyFeeUpdater",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"defaultNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"disableBuyingForever",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"domainIdsNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"domains",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"string",name:"data",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_data",type:"string"}],name:"editData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"editDefaultDomain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factoryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"freezeMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainData",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"idCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeReceiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeUpdater",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingDomains",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const Ht={components:{Navbar:St,Footer:Lt},created(){this.fetchReferrer(),this.setTldContract(),this.fetchMinterContractData(),this.checkIfAdmin(),localStorage.getItem("punkv1")||(localStorage.clear(),localStorage.setItem("connected","null"),localStorage.setItem("punkv1","true"))},computed:h({},f("user",["getUserSelectedName"])),methods:x(h(h(h(h(h({},z("user",["checkIfAdmin","fetchUserDomainNames","fetchCanUserBuy"])),z("tld",["fetchMinterContractData"])),K("user",["setUserData"])),K("network",["setNetworkData"])),K("tld",["setTldContract"])),{async fetchReferrer(){const t=new URLSearchParams(window.location.search).get("ref");if(t&&t.split(".").length===2){const i=t.split(".");for(let a in O)if(O[a]["."+i[1]]){const s=this.getFallbackProvider(Number(a)),o=new b(j),p=await new g(O[a]["."+i[1]],o,s).getDomainHolder(i[0]);p!==$&&localStorage.setItem("referral",p);break}}else t&&Q(t)&&localStorage.setItem("referral",t)}}),setup(){const{address:e,chainId:t,isActivated:i}=M(),{connect:a}=ke(),{getFallbackProvider:s}=W();return ze(()=>{!i.value&&localStorage.getItem("connected")=="metamask"&&a("metamask")}),{address:e,chainId:t,connect:a,getFallbackProvider:s,isActivated:i}},watch:{address(e,t){e&&(this.setUserData(),this.fetchUserDomainNames(!0),this.checkIfAdmin())},chainId(e,t){!this.isActivated&&localStorage.getItem("connected")=="metamask"&&this.connect("metamask"),this.chainId>=1&&(this.setUserData(),this.setNetworkData(),this.fetchUserDomainNames(!0),this.checkIfAdmin())},isActivated(e,t){!localStorage.getItem("connected")&&localStorage.getItem("connected")!=="null"&&localStorage.setItem("connected","metamask")}}},Gt={class:"main-container background-main"};function Kt(e,t,i,a,s,o){const r=k("Navbar"),p=k("router-view"),_=k("Footer"),I=k("vdapp-board");return l(),d(F,null,[w(r),n("div",Gt,[w(p),w(_)]),w(I)],64)}var Yt=v(Ht,[["render",Kt],["__scopeId","data-v-0116e50a"]]);const jt="modulepreload",Ae={},qt="/",Jt=function(t,i){return!i||i.length===0?t():Promise.all(i.map(a=>{if(a=`${qt}${a}`,a in Ae)return;Ae[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":jt,s||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),s)return new Promise((p,_)=>{r.addEventListener("load",p),r.addEventListener("error",_)})})).then(()=>t())},zt={name:"WaitingToast",props:["text"]},Xt=n("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Zt={class:"mx-2"};function Qt(e,t,i,a,s,o){return l(),d("div",null,[Xt,n("span",Zt,m(i.text),1)])}var A=v(zt,[["render",Qt]]),V=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_nftAddress",internalType:"address"},{type:"address",name:"_tldAddress",internalType:"address"},{type:"uint256",name:"_price1char",internalType:"uint256"},{type:"uint256",name:"_price2char",internalType:"uint256"},{type:"uint256",name:"_price3char",internalType:"uint256"},{type:"uint256",name:"_price4char",internalType:"uint256"},{type:"uint256",name:"_price5char",internalType:"uint256"}]},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"fallback",stateMutability:"payable"},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"MAX_BPS",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"addPartnerNftAddress",inputs:[{type:"address",name:"_nftAddress",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"canClaimFreeDomain",inputs:[{type:"address",name:"_user",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"getDiscount",internalType:"bool"}],name:"canGetDiscount",inputs:[{type:"address",name:"_user",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"canUserMint",inputs:[{type:"address",name:"_user",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"changeDiscountBps",inputs:[{type:"uint256",name:"_discountBps",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"changePrice",inputs:[{type:"uint256",name:"_price",internalType:"uint256"},{type:"uint256",name:"_chars",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"changeReferralFee",inputs:[{type:"uint256",name:"_referralFee",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"changeRoyaltyFee",inputs:[{type:"uint256",name:"_royaltyFee",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"discountBps",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address[]",name:"",internalType:"address[]"}],name:"getPartnerNftsArray",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"hasClaimedFree",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"payable",outputs:[{type:"uint256",name:"tokenId",internalType:"uint256"}],name:"mint",inputs:[{type:"string",name:"_domainName",internalType:"string"},{type:"address",name:"_domainHolder",internalType:"address"},{type:"address",name:"_referrer",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"nftAddress",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"tokenId",internalType:"uint256"}],name:"ownerFreeMint",inputs:[{type:"string",name:"_domainName",internalType:"string"},{type:"address",name:"_domainHolder",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"partnerNfts",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"paused",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"price1char",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"price2char",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"price3char",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"price4char",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"price5char",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"recoverERC20",inputs:[{type:"address",name:"tokenAddress_",internalType:"address"},{type:"uint256",name:"tokenAmount_",internalType:"uint256"},{type:"address",name:"recipient_",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"recoverERC721",inputs:[{type:"address",name:"tokenAddress_",internalType:"address"},{type:"uint256",name:"tokenId_",internalType:"uint256"},{type:"address",name:"recipient_",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"referralFee",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"removePartnerNftAddress",inputs:[{type:"uint256",name:"_nftIndex",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"royaltyFee",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"tokenId",internalType:"uint256"}],name:"satrapFreeMint",inputs:[{type:"string",name:"_domainName",internalType:"string"},{type:"address",name:"_domainHolder",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IFlexiPunkTLD"}],name:"tldContract",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"togglePaused",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdraw",inputs:[]},{type:"receive",stateMutability:"payable"}];function me(){function e(t){return t===""?{invalid:!0,message:null}:t===null?{invalid:!0,message:null}:t.includes(".")?{invalid:!0,message:"Dots not allowed"}:t.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:t.includes("%")?{invalid:!0,message:"% not allowed"}:t.includes("&")?{invalid:!0,message:"& not allowed"}:t.includes("?")?{invalid:!0,message:"? not allowed"}:t.includes("#")?{invalid:!0,message:"# not allowed"}:t.includes("/")?{invalid:!0,message:"/ not allowed"}:t.includes(",")?{invalid:!0,message:"Comma not allowed"}:t.includes("\\")||t.includes("\xAD")||t.includes("	")||t.includes("\u034F")||t.includes("\u061C")||t.includes("\u070F")||t.includes("\u115F")||t.includes("\u1160")||t.includes("\u1680")||t.includes("\u17B4")||t.includes("\u17B5")||t.includes("\u180E")||t.includes("\u2000")||t.includes("\u2001")||t.includes("\u2002")||t.includes("\u2003")||t.includes("\u2004")||t.includes("\u2005")||t.includes("\u2006")||t.includes("\u2007")||t.includes("\u2008")||t.includes("\u2009")||t.includes("\u200A")||t.includes("\u200B")||t.includes("\u200C")||t.includes("\u200D")||t.includes("\u200E")||t.includes("\u200F")||t.includes("\u202F")||t.includes("\u205F")||t.includes("\u2060")||t.includes("\u2061")||t.includes("\u2062")||t.includes("\u2063")||t.includes("\u2064")||t.includes("\u206A")||t.includes("\u206B")||t.includes("\u206C")||t.includes("\u206D")||t.includes("\u206E")||t.includes("\u206F")||t.includes("\u3000")||t.includes("\u2800")||t.includes("\u3164")||t.includes("\uFFA0")||t.includes("\u{110B1}")||t.includes("\u{1BCA0}")||t.includes("\u{1BCA1}")||t.includes("\u{1BCA2}")||t.includes("\u{1BCA3}")||t.includes("\u{1D159}")||t.includes("\u{1D173}")||t.includes("\u{1D174}")||t.includes("\u{1D175}")||t.includes("\u{1D176}")||t.includes("\u{1D177}")||t.includes("\u{1D178}")||t.includes("\u{1D179}")||t.includes("\u{1D17A}")||t.includes("\v")||t.includes("\f")||t.includes("\x85")?{invalid:!0,message:"This character is not allowed"}:!1}return{buyNotValid:e}}const en={name:"Admin",data(){return{currentNftPartners:[],newDiscountBps:null,newDomain:null,newDomainOwner:null,newMetadataAddress:null,newMinterAddress:null,newMinterOwner:null,newPartnerAddress:null,newTldOwner:null,newPrice1:null,newPrice2:null,newPrice3:null,newPrice4:null,newPrice5:null,newReferralFee:null,removePartnerIndex:null,waitingApa:!1,waitingCma:!1,waitingCmia:!1,waitingDbps:!1,waitingMfd:!1,waitingPaused:!1,waitingPrice1:!1,waitingPrice2:!1,waitingPrice3:!1,waitingPrice4:!1,waitingPrice5:!1,waitingRf:!1,waitingRpa:!1,waitingTmo:!1,waitingTdo:!1}},created(){this.fetchData()},computed:h(h(h(h({},f("punk",["getTldAbi"])),f("network",["getBlockExplorerBaseUrl"])),f("user",["isUserMinterAdmin","isUserTldAdmin","isUserRoyaltyFeeUpdater"])),f("tld",["getMinterAddress","getReferralFee","getTldAddress","getMinterDiscountPercentage","getMinterPaused","getMinterTldPrice1","getMinterTldPrice2","getMinterTldPrice3","getMinterTldPrice4","getMinterTldPrice5"])),methods:x(h({},z("tld",["fetchMinterContractData"])),{async addPartnerNftAddress(){this.waitingApa=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.addPartnerNftAddress(this.newPartnerAddress),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have added a new partner!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchData(),this.waitingApa=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingApa=!1)}catch(i){console.log(i),this.waitingApa=!1,this.toast(i.message,{type:c.ERROR})}this.waitingApa=!1},async changeDiscountBps(){this.waitingDbps=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.changeDiscountBps(Number(this.newDiscountBps)),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have changed the discount!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingDbps=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingDbps=!1)}catch(i){console.log(i),this.waitingDbps=!1,this.toast(i.message,{type:c.ERROR})}this.waitingDbps=!1},async changeMetadataAddress(){this.waitingCma=!0;const e=new b(this.getTldAbi),t=new g(this.getTldAddress,e,this.signer);try{const i=await t.changeMetadataAddress(this.newMetadataAddress),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have changed the metadata address!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingCma=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingCma=!1)}catch(i){console.log(i),this.waitingCma=!1,this.toast(i.message,{type:c.ERROR})}this.waitingCma=!1},async changeMinterAddress(){this.waitingCmia=!0;const e=new b(this.getTldAbi),t=new g(this.getTldAddress,e,this.signer);try{const i=await t.changeMinter(this.newMinterAddress),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have changed the minter address!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingCmia=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingCmia=!1)}catch(i){console.log(i),this.waitingCmia=!1,this.toast(i.message,{type:c.ERROR})}this.waitingCmia=!1},async changePrice(e){let t;switch(e){case 1:this.waitingPrice1=!0,t=this.newPrice1;break;case 2:this.waitingPrice2=!0,t=this.newPrice2;break;case 3:this.waitingPrice3=!0,t=this.newPrice3;break;case 4:this.waitingPrice4=!0,t=this.newPrice4;break;case 5:this.waitingPrice5=!0,t=this.newPrice5;break}const i=ue(t,18),a=new b(V),s=new g(this.getMinterAddress,a,this.signer);try{const o=await s.changePrice(i,Number(e)),r=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),p=await o.wait();if(p.status===1)switch(this.toast.dismiss(r),this.toast("You have changed price!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.fetchMinterContractData(),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}else switch(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(p),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}}catch(o){switch(console.log(o),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}this.toast(o.message,{type:c.ERROR})}switch(e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}},async changeReferralFee(){this.waitingRf=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.changeReferralFee(Number(this.newReferralFee)),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have changed the referral fee!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingRf=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingRf=!1)}catch(i){console.log(i),this.waitingRf=!1,this.toast(i.message,{type:c.ERROR})}this.waitingRf=!1},async fetchData(){const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);this.currentNftPartners=await t.getPartnerNftsArray()},async mintFreeDomain(){this.waitingMfd=!0;const e=String(this.newDomain).toLowerCase(),t=new b(this.getTldAbi);if(await new g(this.getTldAddress,t,this.signer).getDomainHolder(e)!==$){this.toast("Sorry, but this domain name is already taken...",{type:c.ERROR}),this.waitingMfd=!1;return}const s=new b(V),o=new g(this.getMinterAddress,s,this.signer);try{const r=await o.ownerFreeMint(e,this.newDomainOwner),p=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),_=await r.wait();_.status===1?(this.toast.dismiss(p),this.toast("You have successfully minted a new domain!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),this.waitingMfd=!1):(this.toast.dismiss(p),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),console.log(_),this.waitingMfd=!1)}catch(r){console.log(r),this.waitingMfd=!1,this.toast(r.message,{type:c.ERROR})}this.waitingMfd=!1},async removePartnerNftAddress(){this.waitingRpa=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.removePartnerNftAddress(this.removePartnerIndex),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have removed a partner!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchData(),this.waitingRpa=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingRpa=!1)}catch(i){console.log(i),this.waitingRpa=!1,this.toast(i.message,{type:c.ERROR})}this.waitingRpa=!1},async togglePaused(){this.waitingPaused=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.togglePaused(),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have un/paused the minter contract!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchMinterContractData(),this.waitingPaused=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingPaused=!1)}catch(i){console.log(i),this.waitingPaused=!1,this.toast(i.message,{type:c.ERROR})}this.waitingPaused=!1},async transferMinterOwnership(){this.waitingTmo=!0;const e=new b(V),t=new g(this.getMinterAddress,e,this.signer);try{const i=await t.transferOwnership(this.newMinterOwner),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have transferred ownership!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingTmo=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingTmo=!1)}catch(i){console.log(i),this.waitingTmo=!1,this.toast(i.message,{type:c.ERROR})}this.waitingTmo=!1},async transferTldOwnership(){this.waitingTdo=!0;const e=new b(this.getTldAbi),t=new g(this.getTldAddress,e,this.signer);try{const i=await t.transferOwnership(this.newTldOwner),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have transferred ownership!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingTdo=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingTdo=!1)}catch(i){console.log(i),this.waitingTdo=!1,this.toast(i.message,{type:c.ERROR})}this.waitingTdo=!1}}),setup(){const{address:e,isActivated:t,signer:i}=M(),a=U(),{buyNotValid:s}=me();return{address:e,buyNotValid:s,isActivated:t,signer:i,toast:a}}},y=e=>(S("data-v-3a293d53"),e=e(),N(),e),tn={class:"container"},nn=y(()=>n("h1",{class:"text-center"},"Admin",-1)),sn={class:"row mt-3 text-center"},an={class:"col-md-8 offset-md-2"},on={key:0},rn={key:0},ln={key:1},dn=["disabled"],cn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},un={key:1},pn={key:2},mn=y(()=>n("hr",null,null,-1)),hn={key:1},yn=y(()=>n("h3",null,"Change Discount Bips (basis points)",-1)),fn={class:"row mt-5"},gn={class:"col-md-6 offset-md-3"},bn=["disabled"],_n={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},wn=y(()=>n("span",null,"Change discount",-1)),vn=y(()=>n("hr",null,null,-1)),kn={key:2},Tn=y(()=>n("h3",null,"Minter contract: add partner NFT collection",-1)),Cn=y(()=>n("p",null,"Anyone who holds an NFT from the partner collection will be able to mint a domain and also receive a discount.",-1)),Dn={class:"row mt-5"},xn={class:"col-md-6 offset-md-3"},An=["disabled"],Pn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Mn=y(()=>n("span",null,"Add new partner",-1)),Sn=y(()=>n("hr",null,null,-1)),Nn={key:3},En=y(()=>n("h3",null,"Minter contract: remove partner NFT collection",-1)),Bn=y(()=>n("p",null," IMPORTANT: To remove a partner enter their order number in the partners list. The first partner has an order number 0, the second has 1 and so on. ",-1)),Un={class:"row mt-5"},In={class:"col-md-6 offset-md-3"},Rn=["disabled"],Fn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},$n=y(()=>n("span",null,"Remove a partner",-1)),On=y(()=>n("hr",null,null,-1)),Vn={key:4},Wn=y(()=>n("h3",null,"Change referral fee",-1)),Ln={class:"row mt-5"},Hn={class:"col-md-6 offset-md-3"},Gn=["disabled"],Kn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Yn=y(()=>n("span",null,"Change referral fee",-1)),jn=y(()=>n("hr",null,null,-1)),qn={key:5},Jn=y(()=>n("h3",null,"Change price (1 char domains)",-1)),zn={class:"row mt-5"},Xn={class:"col-md-6 offset-md-3"},Zn=["disabled"],Qn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},es=y(()=>n("span",null,"Change price (1 char)",-1)),ts=y(()=>n("hr",null,null,-1)),ns={key:6},ss=y(()=>n("h3",null,"Change price (2 char domains)",-1)),as={class:"row mt-5"},is={class:"col-md-6 offset-md-3"},os=["disabled"],rs={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ls=y(()=>n("span",null,"Change price (2 chars)",-1)),ds=y(()=>n("hr",null,null,-1)),cs={key:7},us=y(()=>n("h3",null,"Change price (3 char domains)",-1)),ps={class:"row mt-5"},ms={class:"col-md-6 offset-md-3"},hs=["disabled"],ys={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},fs=y(()=>n("span",null,"Change price (3 chars)",-1)),gs=y(()=>n("hr",null,null,-1)),bs={key:8},_s=y(()=>n("h3",null,"Change price (4 char domains)",-1)),ws={class:"row mt-5"},vs={class:"col-md-6 offset-md-3"},ks=["disabled"],Ts={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Cs=y(()=>n("span",null,"Change price (4 chars)",-1)),Ds=y(()=>n("hr",null,null,-1)),xs={key:9},As=y(()=>n("h3",null,"Change price (5+ char domains)",-1)),Ps={class:"row mt-5"},Ms={class:"col-md-6 offset-md-3"},Ss=["disabled"],Ns={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Es=y(()=>n("span",null,"Change price (5+ chars)",-1)),Bs=y(()=>n("hr",null,null,-1)),Us={key:10},Is=y(()=>n("h3",null,"TLD contract: change metadata address",-1)),Rs=y(()=>n("p",null,"Change the Metadata contract address in the TLD contract.",-1)),Fs={class:"row mt-5"},$s={class:"col-md-6 offset-md-3"},Os=["disabled"],Vs={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ws=y(()=>n("span",null,"Change metadata address",-1)),Ls=y(()=>n("hr",null,null,-1)),Hs={key:11},Gs=y(()=>n("h3",null,"TLD contract: change minter address",-1)),Ks=y(()=>n("p",null,"Change the Minter contract address in the TLD contract.",-1)),Ys={class:"row mt-5"},js={class:"col-md-6 offset-md-3"},qs=["disabled"],Js={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},zs=y(()=>n("span",null,"Change minter address",-1)),Xs=y(()=>n("hr",null,null,-1)),Zs={key:12},Qs=y(()=>n("h3",null,"Minter contract: transfer ownership",-1)),ea=y(()=>n("p",null,"Transfer ownership of the minter contract to another address.",-1)),ta={class:"row mt-5"},na={class:"col-md-6 offset-md-3"},sa=["disabled"],aa={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ia=y(()=>n("span",null,"Transfer minter ownership",-1)),oa=y(()=>n("hr",null,null,-1)),ra={key:13},la=y(()=>n("h3",null,"TLD contract: transfer ownership",-1)),da=y(()=>n("p",null,"Transfer ownership of the TLD contract to another address.",-1)),ca={class:"row mt-5"},ua={class:"col-md-6 offset-md-3"},pa=["disabled"],ma={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ha=y(()=>n("span",null,"Transfer TLD ownership",-1)),ya=y(()=>n("hr",null,null,-1)),fa={key:14},ga=y(()=>n("h3",null,"Minter contract: mint a domain for free",-1)),ba=y(()=>n("p",null,"The owner of the Minter contract can mint a domain for free.",-1)),_a={class:"row mt-5"},wa={class:"col-md-6 offset-md-3"},va={key:0,class:"error"},ka={class:"row mt-2"},Ta={class:"col-md-6 offset-md-3"},Ca=["disabled"],Da={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},xa=y(()=>n("span",null,"Mint a free domain",-1)),Aa=y(()=>n("hr",null,null,-1));function Pa(e,t,i,a,s,o){return l(),d("div",tn,[nn,n("div",sn,[n("div",an,[e.isUserMinterAdmin?(l(),d("div",on,[e.getMinterPaused?(l(),d("h3",rn,"Unpause the minting contract")):u("",!0),e.getMinterPaused?u("",!0):(l(),d("h3",ln,"Pause the minting contract")),a.isActivated?(l(),d("button",{key:2,class:"btn btn-primary btn-lg mt-3",onClick:t[0]||(t[0]=(...r)=>o.togglePaused&&o.togglePaused(...r)),disabled:s.waitingPaused},[s.waitingPaused?(l(),d("span",cn)):u("",!0),e.getMinterPaused?(l(),d("span",un,"Unpause")):u("",!0),e.getMinterPaused?u("",!0):(l(),d("span",pn,"Pause"))],8,dn)):u("",!0),mn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",hn,[yn,n("p",null,"Important: Discount is defined in basis points (bps). Current: "+m(e.getMinterDiscountPercentage*100)+" bps ("+m(e.getMinterDiscountPercentage)+"%).",1),n("div",fn,[n("div",gn,[T(n("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.newDiscountBps=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new discount in bps"},null,512),[[C,s.newDiscountBps]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[2]||(t[2]=(...r)=>o.changeDiscountBps&&o.changeDiscountBps(...r)),disabled:s.waitingDbps},[s.waitingDbps?(l(),d("span",_n)):u("",!0),wn],8,bn)):u("",!0),vn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",kn,[Tn,Cn,n("p",null," Current partner NFT addresses: "+m(s.currentNftPartners),1),n("div",Dn,[n("div",xn,[T(n("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.newPartnerAddress=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new partner address"},null,512),[[C,s.newPartnerAddress]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[4]||(t[4]=(...r)=>o.addPartnerNftAddress&&o.addPartnerNftAddress(...r)),disabled:s.waitingApa},[s.waitingApa?(l(),d("span",Pn)):u("",!0),Mn],8,An)):u("",!0),Sn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Nn,[En,Bn,n("p",null," Current partner NFT addresses list: "+m(s.currentNftPartners),1),n("div",Un,[n("div",In,[T(n("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s.removePartnerIndex=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the partner order number"},null,512),[[C,s.removePartnerIndex]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[6]||(t[6]=(...r)=>o.removePartnerNftAddress&&o.removePartnerNftAddress(...r)),disabled:s.waitingRpa},[s.waitingRpa?(l(),d("span",Fn)):u("",!0),$n],8,Rn)):u("",!0),On])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Vn,[Wn,n("p",null,"Important: Referral fees are defined in basis points (bps). Current: "+m(e.getReferralFee)+" bps ("+m(e.getReferralFee/100)+"%).",1),n("div",Ln,[n("div",Hn,[T(n("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>s.newReferralFee=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new referral fee"},null,512),[[C,s.newReferralFee]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[8]||(t[8]=(...r)=>o.changeReferralFee&&o.changeReferralFee(...r)),disabled:s.waitingRf},[s.waitingRf?(l(),d("span",Kn)):u("",!0),Yn],8,Gn)):u("",!0),jn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",qn,[Jn,n("p",null,"Current price: "+m(e.getMinterTldPrice1)+" ETH",1),n("div",zn,[n("div",Xn,[T(n("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>s.newPrice1=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 1 char domains"},null,512),[[C,s.newPrice1]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[10]||(t[10]=r=>o.changePrice(1)),disabled:s.waitingPrice1},[s.waitingPrice1?(l(),d("span",Qn)):u("",!0),es],8,Zn)):u("",!0),ts])):u("",!0),e.isUserMinterAdmin?(l(),d("div",ns,[ss,n("p",null,"Current price: "+m(e.getMinterTldPrice2)+" ETH",1),n("div",as,[n("div",is,[T(n("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>s.newPrice2=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 2 char domains"},null,512),[[C,s.newPrice2]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[12]||(t[12]=r=>o.changePrice(2)),disabled:s.waitingPrice2},[s.waitingPrice2?(l(),d("span",rs)):u("",!0),ls],8,os)):u("",!0),ds])):u("",!0),e.isUserMinterAdmin?(l(),d("div",cs,[us,n("p",null,"Current price: "+m(e.getMinterTldPrice3)+" ETH",1),n("div",ps,[n("div",ms,[T(n("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>s.newPrice3=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 3 char domains"},null,512),[[C,s.newPrice3]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[14]||(t[14]=r=>o.changePrice(3)),disabled:s.waitingPrice3},[s.waitingPrice3?(l(),d("span",ys)):u("",!0),fs],8,hs)):u("",!0),gs])):u("",!0),e.isUserMinterAdmin?(l(),d("div",bs,[_s,n("p",null,"Current price: "+m(e.getMinterTldPrice4)+" ETH",1),n("div",ws,[n("div",vs,[T(n("input",{"onUpdate:modelValue":t[15]||(t[15]=r=>s.newPrice4=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 4 char domains"},null,512),[[C,s.newPrice4]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[16]||(t[16]=r=>o.changePrice(4)),disabled:s.waitingPrice4},[s.waitingPrice4?(l(),d("span",Ts)):u("",!0),Cs],8,ks)):u("",!0),Ds])):u("",!0),e.isUserMinterAdmin?(l(),d("div",xs,[As,n("p",null,"Current price: "+m(e.getMinterTldPrice5)+" ETH",1),n("div",Ps,[n("div",Ms,[T(n("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>s.newPrice5=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 5+ char domains"},null,512),[[C,s.newPrice5]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[18]||(t[18]=r=>o.changePrice(5)),disabled:s.waitingPrice5},[s.waitingPrice5?(l(),d("span",Ns)):u("",!0),Es],8,Ss)):u("",!0),Bs])):u("",!0),e.isUserTldAdmin?(l(),d("div",Us,[Is,Rs,n("div",Fs,[n("div",$s,[T(n("input",{"onUpdate:modelValue":t[19]||(t[19]=r=>s.newMetadataAddress=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new metadata address"},null,512),[[C,s.newMetadataAddress]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[20]||(t[20]=(...r)=>o.changeMetadataAddress&&o.changeMetadataAddress(...r)),disabled:s.waitingCma},[s.waitingCma?(l(),d("span",Vs)):u("",!0),Ws],8,Os)):u("",!0),Ls])):u("",!0),e.isUserTldAdmin?(l(),d("div",Hs,[Gs,Ks,n("div",Ys,[n("div",js,[T(n("input",{"onUpdate:modelValue":t[21]||(t[21]=r=>s.newMinterAddress=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new minter address"},null,512),[[C,s.newMinterAddress]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[22]||(t[22]=(...r)=>o.changeMinterAddress&&o.changeMinterAddress(...r)),disabled:s.waitingCmia},[s.waitingCmia?(l(),d("span",Js)):u("",!0),zs],8,qs)):u("",!0),Xs])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Zs,[Qs,ea,n("div",ta,[n("div",na,[T(n("input",{"onUpdate:modelValue":t[23]||(t[23]=r=>s.newMinterOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[C,s.newMinterOwner]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[24]||(t[24]=(...r)=>o.transferMinterOwnership&&o.transferMinterOwnership(...r)),disabled:s.waitingTmo},[s.waitingTmo?(l(),d("span",aa)):u("",!0),ia],8,sa)):u("",!0),oa])):u("",!0),e.isUserTldAdmin?(l(),d("div",ra,[la,da,n("div",ca,[n("div",ua,[T(n("input",{"onUpdate:modelValue":t[25]||(t[25]=r=>s.newTldOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[C,s.newTldOwner]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[26]||(t[26]=(...r)=>o.transferTldOwnership&&o.transferTldOwnership(...r)),disabled:s.waitingTdo},[s.waitingTdo?(l(),d("span",ma)):u("",!0),ha],8,pa)):u("",!0),ya])):u("",!0),e.isUserMinterAdmin?(l(),d("div",fa,[ga,ba,n("div",_a,[n("div",wa,[T(n("input",{"onUpdate:modelValue":t[27]||(t[27]=r=>s.newDomain=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a domain name (without extension)"},null,512),[[C,s.newDomain]])])]),a.buyNotValid(s.newDomain).invalid?(l(),d("p",va,[n("small",null,[n("em",null,m(a.buyNotValid(s.newDomain).message),1)])])):u("",!0),n("div",ka,[n("div",Ta,[T(n("input",{"onUpdate:modelValue":t[28]||(t[28]=r=>s.newDomainOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[C,s.newDomainOwner]])])]),a.isActivated?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3",onClick:t[29]||(t[29]=(...r)=>o.mintFreeDomain&&o.mintFreeDomain(...r)),disabled:s.waitingMfd||a.buyNotValid(s.newDomain).invalid},[s.waitingMfd?(l(),d("span",Da)):u("",!0),xa],8,Ca)):u("",!0),Aa])):u("",!0)])])])}var Ma=v(en,[["render",Pa],["__scopeId","data-v-3a293d53"]]);const Sa={name:"About"},Pe=e=>(S("data-v-06e4f730"),e=e(),N(),e),Na={class:"container"},Ea=Pe(()=>n("h1",{class:"text-center"},"About Domains",-1)),Ba=Pe(()=>n("div",{class:"row mt-3"},[n("div",{class:"col-md-8 offset-md-2"},[n("p",null," ... ")])],-1)),Ua=[Ea,Ba];function Ia(e,t,i,a,s,o){return l(),d("div",Na,Ua)}var Ra=v(Sa,[["render",Ia],["__scopeId","data-v-06e4f730"]]),he=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];const Fa={name:"Sidebar",data(){return{flipSide:"back"}},created(){const e=localStorage.getItem("flipSide");(e==="front"||e==="back")&&(this.flipSide=e)},computed:x(h({},f("user",["getFreeMintEligible","getUserSelectedName","getPaymentTokenName","getUserShortAddress","getUserSelectedNameImageSvg"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress},getUserImage(){return this.getUserSelectedNameImageSvg?this.getUserSelectedNameImageSvg:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}}),methods:{flipImage(){this.flipSide==="front"?(this.flipSide="back",localStorage.setItem("flipSide","back")):(this.flipSide="front",localStorage.setItem("flipSide","front"))}}},ee=e=>(S("data-v-28f9014e"),e=e(),N(),e),$a={class:"container"},Oa={class:"custom-img-content"},Va=["src"],Wa=ee(()=>n("small",null,[n("i",{class:"bi bi-arrow-repeat"})],-1)),La=[Wa],Ha=ee(()=>n("hr",null,null,-1)),Ga=ee(()=>n("i",{class:"bi bi-person"},null,-1)),Ka=D(" Profile "),Ya=ee(()=>n("i",{class:"bi bi-heart"},null,-1)),ja=D(" Claim free domain "),qa=ee(()=>n("i",{class:"bi bi-cart4"},null,-1)),Ja=D(" Buy domain "),za=ee(()=>n("i",{class:"bi bi-search"},null,-1)),Xa=D(" Search domain "),Za=ee(()=>n("i",{class:"bi bi-send"},null,-1)),Qa=D(" Send tokens ");function ei(e,t,i,a,s,o){const r=k("router-link");return l(),d("div",$a,[w(Ce,{name:"flip"},{default:E(()=>[s.flipSide=="front"?(l(),d("div",{key:0,onClick:t[0]||(t[0]=(...p)=>o.flipImage&&o.flipImage(...p)),class:"img-thumbnail custom-img-container"},[n("div",Oa,[n("div",null,[n("span",null,m(o.getNameOrAddress),1)])])])):u("",!0)]),_:1}),w(Ce,{name:"flip"},{default:E(()=>[s.flipSide=="back"?(l(),d("img",{key:0,onClick:t[1]||(t[1]=(...p)=>o.flipImage&&o.flipImage(...p)),src:o.getUserImage,class:"img-fluid img-thumbnail"},null,8,Va)):u("",!0)]),_:1}),n("div",{class:"text-center",onClick:t[2]||(t[2]=(...p)=>o.flipImage&&o.flipImage(...p))},La),Ha,w(r,{class:"btn btn-sidebar text-start",to:"/profile"},{default:E(()=>[Ga,Ka]),_:1}),e.getFreeMintEligible?(l(),H(r,{key:0,class:"btn btn-sidebar text-start",to:"/profile/claim-free-domain"},{default:E(()=>[Ya,ja]),_:1})):u("",!0),w(r,{class:"btn btn-sidebar text-start",to:"/profile/buy-domain"},{default:E(()=>[qa,Ja]),_:1}),w(r,{class:"btn btn-sidebar text-start",to:"/profile/search-domain"},{default:E(()=>[za,Xa]),_:1}),w(r,{class:"btn btn-sidebar text-start",to:"/profile/send-tokens"},{default:E(()=>[Za,Qa]),_:1})])}var G=v(Fa,[["render",ei],["__scopeId","data-v-28f9014e"]]);const ti={name:"Allowance",components:{Sidebar:G},data(){return{newAllowance:null,waiting:!1}},computed:x(h(h(h({},f("user",["getPaymentTokenAddress","getPaymentTokenName","getPaymentTokenAllowance","getPaymentTokenBalance","getPaymentTokenDecimals"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getMinterAddress"])),{notValid(){if(this.newAllowance){if(isNaN(this.newAllowance))return!0;if(Number(this.newAllowance)<0)return!0;if(this.newAllowance.includes(" "))return!0}else return!0;return!1}}),methods:x(h({},K("user",["setPaymentTokenAllowance"])),{async approveToken(){this.waiting=!0;const e=new b(he),t=new g(this.getPaymentTokenAddress,e,this.signer),i=this.newAllowance;try{const a=await t.approve(this.getMinterAddress,ue(i,this.getPaymentTokenDecimals)),s=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully set the allowance to "+i+" "+this.getPaymentTokenName+"!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.setPaymentTokenAllowance(i),this.waiting=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waiting=!1)}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:c.ERROR})}this.waiting=!1}}),setup(){const{signer:e}=M(),t=U(),{getFallbackProvider:i}=W();return{getFallbackProvider:i,signer:e,toast:t}}},ni={class:"row"},si={class:"col-md-3",id:"sidebar-container"},ai={class:"col-md-9"},ii={class:"row"},oi={class:"col-md-12 mb-3"},ri={class:"container text-center"},li={class:"mt-4"},di={class:"row mt-5"},ci={class:"col-md-6 offset-md-3"},ui=["placeholder"],pi=["disabled"],mi={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},hi=D(" Confirm new allowance ");function yi(e,t,i,a,s,o){const r=k("Sidebar");return l(),d("div",ni,[n("div",si,[w(r)]),n("div",ai,[n("div",ii,[n("div",oi,[n("div",ri,[n("h3",null,"Manage "+m(e.getPaymentTokenName)+" allowance",1),n("p",li," On this page you can manage your "+m(e.getPaymentTokenName)+" allowance for the domain minting contract. Example: if you want to mint 5 domains and would like to avoid sending an approval transaction each time, set allowance to 5x the domain price. But if you instead want to remove the allowance completely, set it to 0. ",1),n("p",null,"Current allowance: "+m(e.getPaymentTokenAllowance)+" "+m(e.getPaymentTokenName),1),n("div",di,[n("div",ci,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>s.newAllowance=p),class:"form-control text-center",placeholder:"Enter new allowance amount in "+this.getPaymentTokenName},null,8,ui),[[C,s.newAllowance]])])]),n("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[1]||(t[1]=(...p)=>o.approveToken&&o.approveToken(...p)),disabled:s.waiting||o.notValid},[s.waiting?(l(),d("span",mi)):u("",!0),hi],8,pi)])])])])])}var fi=v(ti,[["render",yi]]),gi="/assets/chrome-logo.f7a9cfbf.png",bi="/assets/firefox-logo.1191b73d.png";const _i={name:"BrowserExtension",components:{Sidebar:G}},wi=e=>(S("data-v-29db68f1"),e=e(),N(),e),vi={class:"row"},ki={class:"col-md-3",id:"sidebar-container"},Ti=wi(()=>n("div",{class:"col-md-9"},[n("div",{class:"row"},[n("div",{class:"col-md-12 mb-3"},[n("div",{class:"container text-center"},[n("h3",null,"Browser Extension/Plugin"),n("p",{class:"text-wrap p-4"}," Punk Domains browser extension allows you to enter a Punk domain name in the URL bar and the extension will redirect you to the URL that is set for that domain. If no URL is set, the extension will redirect you to the domain page on the Punk Domains website. ")])])]),n("div",{class:"row"},[n("div",{class:"col-md-6 mb-3"},[n("div",{class:"container text-center"},[n("h3",null,"Chrome/Brave/Edge/Opera"),n("p",null,[n("small",null,[n("em",null,[n("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"}," Download ")])])]),n("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"},[n("img",{class:"img-fluid browser-img mb-3",src:gi})])])]),n("div",{class:"col-md-6 mb-3"},[n("div",{class:"container text-center"},[n("h3",null,"Firefox"),n("p",null,[n("small",null,[n("em",null,[n("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"}," Download ")])])]),n("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"},[n("img",{class:"img-fluid browser-img mb-3",src:bi})])])])])],-1));function Ci(e,t,i,a,s,o){const r=k("Sidebar");return l(),d("div",vi,[n("div",ki,[w(r)]),Ti])}var Di=v(_i,[["render",Ci],["__scopeId","data-v-29db68f1"]]);const xi={name:"Referral",computed:x(h(h({},f("user",["getUserAddress","getUserSelectedName"])),f("tld",["getReferralFee"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserAddress}}),methods:{copyToClipboard(e){navigator.clipboard.writeText(e),this.toast("Referral link copied to your clipboard!",{type:c.SUCCESS})}},setup(){return{toast:U()}}},Ai=e=>(S("data-v-35fb80de"),e=e(),N(),e),Pi={class:"row"},Mi={class:"col-md-12 mt-3"},Si={class:"container text-center"},Ni=Ai(()=>n("h3",null,"Referrals",-1)),Ei={class:"row mt-1"},Bi={class:"col-md-6 offset-md-3"},Ui=["value"];function Ii(e,t,i,a,s,o){return l(),d("div",Pi,[n("div",Mi,[n("div",Si,[Ni,n("p",null," Share this referral link and earn a "+m(e.getReferralFee/100)+"% referral fee from new domain mints! ",1),n("div",Ei,[n("div",Bi,[n("input",{class:"form-control text-center clipboard",value:"https://id.satraps.io/?ref="+this.getNameOrAddress,onClick:t[0]||(t[0]=r=>o.copyToClipboard("https://id.satraps.io/?ref="+this.getNameOrAddress)),readonly:""},null,8,Ui)])])])])])}var ye=v(xi,[["render",Ii],["__scopeId","data-v-35fb80de"]]),Me="/assets/satrap.d137c2eb.jpg";const Ri={name:"ClaimFreeMint",data(){return{chosenDomainName:null,chosenAllowance:null,loading:!1,waiting:!1,minterContract:null}},components:{Referral:ye},computed:x(h(h(h({},f("user",["getPaymentTokenAddress","getPaymentTokenName","getPaymentTokenAllowance","getUserBalance","getFreeMintEligible","getDiscountEligible"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getTldChainId","getTldChainName","getMinterAddress","getTldContract","getMinterTldPrice1","getMinterTldPrice2","getMinterTldPrice3","getMinterTldPrice4","getMinterTldPrice5","getMinterPaused","getMinterDiscountPercentage","getTldName"])),{getDiscountFactor(){let e=1;return this.getDiscountEligible&&this.getMinterDiscountPercentage>0&&(e-=this.getMinterDiscountPercentage/100),e},getPrice(){if(this.chosenDomainName){if(this.chosenDomainName.match(/./gu).length===1)return this.getMinterTldPrice1*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===2)return this.getMinterTldPrice2*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===3)return this.getMinterTldPrice3*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===4)return this.getMinterTldPrice4*this.getDiscountFactor}return this.getMinterTldPrice5*this.getDiscountFactor},domainLowerCase(){return this.chosenDomainName.toLowerCase()},isNetworkSupported(){return!!(this.isActivated&&this.chainId===this.getTldChainId)}}),methods:x(h(h({},z("user",["fetchCanUserBuy","getPaymentTokenDecimals"])),K("user",["addDomainManually","setPaymentTokenAllowance"])),{async claimDomain(){this.waiting=!0;const e=this.domainLowerCase+this.getTldName;if(await this.getTldContract.getDomainHolder(this.domainLowerCase)!==$){this.toast("Sorry, but this ID is already taken...",{type:c.ERROR}),this.waiting=!1;return}const i=new b(V),a=new g(this.getMinterAddress,i,this.signer);try{let s=localStorage.getItem("referral");(!s||!Q(s))&&(s=$);const o=await a.satrapFreeMint(this.domainLowerCase,this.address),r=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),p=await o.wait();p.status===1?(this.toast.dismiss(r),this.toast("You have successfully claimed your ID!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(p),this.waiting=!1)}catch(s){console.log(s),this.waiting=!1,this.toast(s.message,{type:c.ERROR})}this.waiting=!1},changeNetwork(e){const t=this.switchNetwork(e);window.ethereum.request({method:t.method,params:t.params})}}),setup(){const{open:e}=ce(),{address:t,chainId:i,isActivated:a,signer:s}=M(),o=U(),{buyNotValid:r}=me(),{switchNetwork:p}=W();return{address:t,buyNotValid:r,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:p,toast:o}}},ie=e=>(S("data-v-4234dd4c"),e=e(),N(),e),Fi={class:"container text-center"},$i=ie(()=>n("img",{class:"img-fluid main-img rounded",src:Me},null,-1)),Oi={class:"text-align-header mt-5"},Vi=ie(()=>n("p",null,"If you hold a Satrap NFT, you can mint 1 free ID per Satrap* (any length).",-1)),Wi={class:"d-flex justify-content-center domain-input-container mb-3 mt-5"},Li={class:"input-group domain-input input-group-lg input-sizing"},Hi={class:"input-group-text tld-addon border-2 border-light"},Gi={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ki={class:"error"},Yi={key:0},ji={key:0,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:!0},qi={key:0},Ji=["disabled"],zi=ie(()=>n("span",null,"Sorry, You're not eligible.",-1)),Xi=[zi],Zi=["disabled"],Qi={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},eo=ie(()=>n("span",null,"CLAIM free ID",-1)),to={key:4,class:"mt-4"},no=ie(()=>n("div",null,[n("small",null," * Once an ID is minted, the Satrap NFT will not be eligible anymore even if it's transferred or sold to another address. ")],-1));function so(e,t,i,a,s,o){return l(),d("div",Fi,[$i,n("div",Oi,[n("h1",null,"Claim a free "+m(e.getTldName)+" ID!",1),Vi]),n("div",Wi,[n("div",Li,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.chosenDomainName=r),placeholder:"enter your desired ID",type:"text",class:"form-control text-end border-2 border-end-0 border-light","aria-label":"Text input with dropdown button"},null,512),[[C,s.chosenDomainName]]),n("span",Hi,[s.loading?(l(),d("span",Gi)):u("",!0),n("span",null,m(e.getTldName),1)])])]),n("p",Ki,[a.buyNotValid(s.chosenDomainName).invalid?(l(),d("small",Yi,[n("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])):u("",!0)]),a.isActivated&&e.getMinterPaused?(l(),d("button",ji,[e.getMinterPaused?(l(),d("span",qi,"Claiming is paused")):u("",!0)])):u("",!0),a.isActivated&&o.isNetworkSupported&&!e.getMinterPaused&&!e.getFreeMintEligible?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid},Xi,8,Ji)):u("",!0),a.isActivated&&o.isNetworkSupported&&e.getFreeMintEligible&&!e.getMinterPaused?(l(),d("button",{key:2,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:t[1]||(t[1]=(...r)=>o.claimDomain&&o.claimDomain(...r)),disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid},[s.waiting?(l(),d("span",Qi)):u("",!0),eo],8,Zi)):u("",!0),a.isActivated?u("",!0):(l(),d("button",{key:3,class:"btn btn-primary btn-lg mt-3 btn-Disconnected",onClick:t[2]||(t[2]=(...r)=>a.open&&a.open(...r))},"Connect wallet")),a.isActivated&&!o.isNetworkSupported?(l(),d("div",to,[n("button",{class:"btn btn-primary btn-lg btn-Disconnected",onClick:t[3]||(t[3]=r=>o.changeNetwork(this.getTldChainName))},"Switch to "+m(e.getTldChainName),1)])):u("",!0),no])}var Se=v(Ri,[["render",so],["__scopeId","data-v-4234dd4c"]]);const ao={name:"ClaimFreeDomain",components:{ClaimFreeMint:Se}};function io(e,t,i,a,s,o){const r=k("ClaimFreeMint");return l(),H(r)}var oo=v(ao,[["render",io]]);const ro={name:"EditOtherData",emits:["fetchData"],props:["domainData","tld","domainName","isCorrectChainForDomain"],data(){return{btnInactive:!1,fields:[],tldContract:null}},computed:x(h(h(h({},f("punk",["getTldAbi"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getTldAddress"])),{customData(){if(this.domainData)try{return JSON.parse(this.domainData.data)}catch{return null}return null},isOwner(){if(this.domainData)return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()}}),methods:x(h({},z("user",["fetchSelectedNameData"])),{addField(){this.fields.push({dataKey:"",dataValue:""})},removeField(e){this.fields.splice(e,1)},shortUrl(e){if(typeof e=="string"&&e.length>42){let t=e.slice(e.length-15);return e.substr(0,32)+"..."+t}return e},async editData(){this.btnInactive=!0,this.tldContract||this.setContract();const e={};for(let t of this.fields)t.dataKey&&t.dataValue&&(e[t.dataKey]=t.dataValue);if(this.tldContract)try{const t=await this.tldContract.editData(this.domainName,JSON.stringify(e));document.getElementById("closeCustomDataModal").click();const i=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),a=await t.wait();a.status===1?(this.toast.dismiss(i),this.toast("You have successfully updated your domain's custom data!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),this.fetchSelectedNameData(),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(i),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),console.log(a),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(t){this.btnInactive=!1,console.log(t),this.toast(t.message,{type:c.ERROR}),this.inputUrl=this.domainData.url}},getTwitterUrl(e){if(typeof e=="string")return e.startsWith("http")?e:e.startsWith("www")||e.startsWith("twitter.com")?"https://"+e:(e.startsWith("@"),"https://twitter.com/"+e)},setContract(){if(this.address){const e=new b(this.getTldAbi);this.tldContract=new g(this.getTldAddress,e,this.signer)}}}),setup(){const{address:e,signer:t}=M(),i=U();return{address:e,signer:t,toast:i}},watch:{domainData(){if(this.domainData&&this.domainData.data){const e=JSON.parse(this.domainData.data);for(const[t,i]of Object.entries(e))this.fields.findIndex(a=>a.dataKey==t)===-1&&this.fields.push({dataKey:t,dataValue:i})}this.fields.findIndex(e=>e.dataKey=="imgAddress")===-1&&this.fields.push({dataKey:"imgAddress",dataValue:"",valuePlaceholder:"HTTP, or 0x address if NFT"}),this.fields.findIndex(e=>e.dataKey=="imgTokenId")===-1&&this.fields.push({dataKey:"imgTokenId",dataValue:"",valuePlaceholder:"Only needed if img is NFT"}),this.fields.findIndex(e=>e.dataKey=="url")===-1&&this.fields.push({dataKey:"url",dataValue:"",valuePlaceholder:"Add any URL to redirect domain to"}),this.fields.findIndex(e=>e.dataKey=="twitter")===-1&&this.fields.push({dataKey:"twitter",dataValue:"",valuePlaceholder:"Enter your Twitter handle"}),this.isOwner&&this.isCorrectChainForDomain&&this.setContract()}}},ne=e=>(S("data-v-552a70ce"),e=e(),N(),e),lo={class:"col-sm-3 punk-title"},co={class:"col-sm-9 punk-text text-break"},uo={key:0},po=["href"],mo={key:1},ho=["href"],yo={key:2},fo=["href"],go={key:3},bo={key:1,class:"btn btn-primary btn-lg mx-3 mt-3","data-bs-toggle":"modal","data-bs-target":"#editDataModal"},_o={class:"modal fade text-start",id:"editDataModal",tabindex:"-1","aria-labelledby":"editDataModalLabel","aria-hidden":"true"},wo={class:"modal-dialog modal-dialog-centered"},vo={class:"modal-content"},ko=ne(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"editDataModalLabel"},"Edit other data"),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),To={class:"modal-body"},Co=ne(()=>n("p",null," You can add custom data to this domain. ",-1)),Do=ne(()=>n("p",null," Example: twitter -> @myhandle ",-1)),xo={class:"input-group mb-3 mt-4"},Ao=["onUpdate:modelValue"],Po=ne(()=>n("span",{class:"input-group-text"},[n("i",{class:"bi bi-arrow-right"})],-1)),Mo=["onUpdate:modelValue","placeholder"],So=["onClick"],No=ne(()=>n("i",{class:"bi bi-x-circle"},null,-1)),Eo=[No],Bo={class:"modal-footer"},Uo=["disabled"],Io=ne(()=>n("button",{id:"closeCustomDataModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Ro(e,t,i,a,s,o){return l(),d(F,null,[o.customData?(l(!0),d(F,{key:0},ae(o.customData,(r,p)=>(l(),d("div",{class:"mb-3 row domain-data mt-4",key:p},[n("div",lo,m(p.charAt(0).toUpperCase()+p.slice(1)),1),n("div",co,[p=="imgAddress"&&r.startsWith("http")?(l(),d("span",uo,[n("a",{target:"_blank",href:r},m(o.shortUrl(r)),9,po)])):p=="url"?(l(),d("span",mo,[n("a",{target:"_blank",href:r},m(r),9,ho)])):p=="twitter"?(l(),d("span",yo,[n("a",{target:"_blank",href:o.getTwitterUrl(r)},m(r),9,fo)])):(l(),d("span",go,m(r),1))])]))),128)):u("",!0),o.isOwner&&i.isCorrectChainForDomain?(l(),d("button",bo," Edit data ")):u("",!0),n("div",_o,[n("div",wo,[n("div",vo,[ko,n("div",To,[Co,Do,s.fields?(l(!0),d(F,{key:0},ae(s.fields,(r,p)=>(l(),d("div",xo,[T((l(),d("input",{type:"text",key:"dataKey"+p,class:"form-control","onUpdate:modelValue":_=>r.dataKey=_,placeholder:"Enter key (like twitter)"},null,8,Ao)),[[C,r.dataKey]]),Po,T((l(),d("input",{type:"text",class:"form-control",key:"dataValue"+p,"onUpdate:modelValue":_=>r.dataValue=_,placeholder:r.valuePlaceholder?r.valuePlaceholder:"Enter value"},null,8,Mo)),[[C,r.dataValue]]),n("span",{class:"input-group-text",onClick:_=>o.removeField(p)},Eo,8,So)]))),256)):u("",!0),n("button",{class:"btn btn-secondary btn-sm",onClick:t[0]||(t[0]=(...r)=>o.addField&&o.addField(...r))}," Add new field ")]),n("div",Bo,[n("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...r)=>o.editData&&o.editData(...r)),disabled:s.btnInactive},"Submit",8,Uo),Io])])])])],64)}var Fo=v(ro,[["render",Ro],["__scopeId","data-v-552a70ce"]]);const $o={name:"EditPfp",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputPfpAddress:null,inputPfpId:null,tldContract:null,btnInactive:!1}},computed:x(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl"])),{customPfp(){return this.domainData.pfpAddress!=$?this.shortenAddress(this.domainData.pfpAddress)+" (token ID: "+this.domainData.pfpTokenId+")":"Custom PFP not set yet."},isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},pfpAddress(){return this.domainData.pfpAddress!=$?this.domainData.pfpAddress:null}}),methods:{async editPfp(){this.btnInactive=!0;const e=this.inputPfpAddress,t=this.inputPfpId,i=new b(["function ownerOf(uint256 tokenId) public view returns (address)"]),a=new g(e,i,this.signer);let s;try{s=await a.ownerOf(t)}catch(o){this.btnInactive=!1,console.log(o),this.toast(o.message,{type:c.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}if(s&&String(this.address).toLowerCase()!=String(s).toLowerCase())this.toast("It looks like your current address is not this NFT owner.",{type:c.ERROR}),this.btnInactive=!1,this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId;else if(s&&String(this.address).toLowerCase()===String(s).toLowerCase()&&(this.tldContract||this.setContract(),this.tldContract))try{const o=await this.tldContract.editPfp(this.domainName,e,t);document.getElementById("closePfpModal").click();const r=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),p=await o.wait();p.status===1?(this.btnInactive=!1,this.toast.dismiss(r),this.toast("You have successfully updated your PFP data!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.$emit("fetchData")):(this.btnInactive=!1,this.toast.dismiss(r),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(p),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}catch(o){this.btnInactive=!1,console.log(o),this.toast(o.message,{type:c.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}},setContract(){const e=new b(this.getTldAbi);this.tldContract=new g(this.getTldAddress,e,this.signer)}},setup(){const{address:e,signer:t}=M(),i=U();return{address:e,shortenAddress:te,signer:t,toast:i}},watch:{domainData(){this.domainData.pfpAddress!=$&&(this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}}},oe=e=>(S("data-v-678dab1c"),e=e(),N(),e),Oo={key:0,class:"mb-3 row domain-data mt-4"},Vo=oe(()=>n("div",{class:"col-sm-3 punk-title"}," Custom PFP ",-1)),Wo={class:"col-sm-9 punk-text"},Lo={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editPfpModal"},Ho={class:"modal fade text-start",id:"editPfpModal",tabindex:"-1","aria-labelledby":"editPfpModalLabel","aria-hidden":"true"},Go={class:"modal-dialog modal-dialog-centered"},Ko={class:"modal-content"},Yo=oe(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"editPfpModalLabel"},"Edit PFP"),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),jo={class:"modal-body"},qo={key:0,class:"mb-3"},Jo=oe(()=>n("label",{class:"form-label"},"Enter NFT address:",-1)),zo={key:1,class:"mb-3"},Xo=oe(()=>n("label",{class:"form-label"},"Enter NFT token ID:",-1)),Zo={class:"modal-footer"},Qo=["disabled"],er=oe(()=>n("button",{id:"closePfpModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function tr(e,t,i,a,s,o){return l(),d(F,null,[i.domainData?(l(),d("div",Oo,[Vo,n("div",Wo,[n("span",null,m(o.customPfp),1),o.isOwner?(l(),d("button",Lo,"Edit")):u("",!0)])])):u("",!0),n("div",Ho,[n("div",Go,[n("div",Ko,[Yo,n("div",jo,[n("p",null," Enter the address and token ID of an NFT that you own and want to designate as the main PFP of the "+m(i.domainName)+"."+m(i.tld)+" domain. ",1),i.domainData?(l(),d("div",qo,[Jo,T(n("input",{type:"text",class:"form-control",placeholder:"0x...","onUpdate:modelValue":t[0]||(t[0]=r=>s.inputPfpAddress=r)},null,512),[[C,s.inputPfpAddress]])])):u("",!0),i.domainData?(l(),d("div",zo,[Xo,T(n("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=r=>s.inputPfpId=r)},null,512),[[C,s.inputPfpId]])])):u("",!0)]),n("div",Zo,[n("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...r)=>o.editPfp&&o.editPfp(...r)),disabled:s.btnInactive},"Edit PFP data",8,Qo),er])])])])],64)}var nr=v($o,[["render",tr],["__scopeId","data-v-678dab1c"]]);const sr={name:"EditUrl",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputUrl:null,tldContract:null,btnInactive:!1}},computed:x(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl"])),{isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},urlData(){return this.domainData.url?this.domainData.url:"Redirect URL not set yet."}}),methods:{async editUrl(){if(this.btnInactive=!0,this.tldContract||this.setContract(),this.tldContract)try{const e=await this.tldContract.editUrl(this.domainName,this.inputUrl);document.getElementById("closeUrlModal").click();const t=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),i=await e.wait();i.status===1?(this.toast.dismiss(t),this.toast("You have successfully updated the URL!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(t),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),console.log(i),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(e){this.btnInactive=!1,console.log(e),this.toast(e.message,{type:c.ERROR}),this.inputUrl=this.domainData.url}},setContract(){const e=new b(this.getTldAbi);this.tldContract=new g(this.getTldAddress,e,this.signer)}},setup(){const{address:e,signer:t}=M(),i=U();return{address:e,signer:t,toast:i}},watch:{domainData(){this.inputUrl=this.domainData.url}}},fe=e=>(S("data-v-7059acba"),e=e(),N(),e),ar={key:0,class:"mb-3 row domain-data mt-4"},ir=fe(()=>n("div",{class:"col-sm-3 punk-title"}," URL ",-1)),or={class:"col-sm-9 punk-text"},rr={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editUrlModal"},lr={class:"modal fade",id:"editUrlModal",tabindex:"-1","aria-labelledby":"editUrlModalLabel","aria-hidden":"true"},dr={class:"modal-dialog modal-dialog-centered"},cr={class:"modal-content"},ur=fe(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"editUrlModalLabel"},"Edit URL"),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),pr={class:"modal-body"},mr={key:0,class:"mb-3"},hr={class:"modal-footer"},yr=["disabled"],fr=fe(()=>n("button",{id:"closeUrlModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function gr(e,t,i,a,s,o){return l(),d(F,null,[i.domainData?(l(),d("div",ar,[ir,n("div",or,[n("span",null,m(o.urlData),1),o.isOwner?(l(),d("button",rr,"Edit")):u("",!0)])])):u("",!0),n("div",lr,[n("div",dr,[n("div",cr,[ur,n("div",pr,[i.domainData?(l(),d("div",mr,[T(n("input",{type:"text",class:"form-control",placeholder:"Enter URL","onUpdate:modelValue":t[0]||(t[0]=r=>s.inputUrl=r)},null,512),[[C,s.inputUrl]])])):u("",!0)]),n("div",hr,[n("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...r)=>o.editUrl&&o.editUrl(...r)),disabled:s.btnInactive},"Edit URL",8,yr),fr])])])])],64)}var br=v(sr,[["render",gr],["__scopeId","data-v-7059acba"]]);const _r={name:"DomainDetails",props:["domainChain","tld","domainName"],components:{EditOtherData:Fo,EditPfp:nr,EditUrl:br,Sidebar:G},data(){return{loadingData:!1,tldContract:null,domainData:null,pfpImage:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}},created(){!this.tldContract&&this.isCorrectChainForDomain&&this.setContract(),this.fetchData()},computed:x(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl","getChainId","getSupportedNetworks","isNetworkSupported"])),{holderData(){return this.domainData.holder!==$?this.domainData.holder:"This domain name is not owned by anyone yet."},isCorrectChainForDomain(){return Number(this.domainChain)===Number(this.getChainId)}}),methods:{async fetchData(){this.loadingData=!0;const e=this.getFallbackProvider(Number(this.domainChain)),t=new b(j),i=new g(O[this.domainChain]["."+this.tld],t,e);if(i&&(this.domainData=await i.domains(this.domainName),this.domainData&&this.domainData.holder!==$)){let a=await i.tokenURI(this.domainData.tokenId),s=!0;if(this.domainData.data){const o=JSON.parse(this.domainData.data);if(o.imgAddress)if(!o.imgAddress.startsWith("0x"))this.pfpImage=o.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/"),s=!1;else if(o.imgAddress){const r=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);a=await new g(o.imgAddress,r,e).tokenURI(o.imgTokenId)}else a=await i.tokenURI(o.imgTokenId);if(a.includes("ipfs://")&&(a=a.replace("ipfs://","https://ipfs.io/ipfs/")),a.includes("http")){const p=await(await fetch(a)).json();p&&p.image&&(this.pfpImage=p.image.replace("ipfs://","https://ipfs.io/ipfs/"),s=!1)}}if(a&&s){const o=atob(a.substring(29)),r=JSON.parse(o);r&&r.image&&(this.pfpImage=r.image)}}this.loadingData=!1},setContract(){const e=new b(this.getTldAbi);this.tldContract=new g(this.getTldAddress,e,this.signer)}},setup(){const{isActivated:e,signer:t}=M(),i=U(),{getChainName:a,getFallbackProvider:s}=W();return{getChainName:a,getFallbackProvider:s,isActivated:e,signer:t,toast:i}}},ge=e=>(S("data-v-f6f36894"),e=e(),N(),e),wr={class:"row"},vr={class:"col-md-3",id:"sidebar-container"},kr={class:"col-md-9"},Tr={class:"row"},Cr={class:"col-md-12"},Dr={class:"container text-center"},xr=["src"],Ar={key:0,class:"mb-3 text-center mt-4"},Pr=ge(()=>n("span",{class:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"},null,-1)),Mr=[Pr],Sr={key:1,class:"mb-3 row domain-data mt-4"},Nr=ge(()=>n("div",{class:"col-sm-3 punk-title"}," Holder address ",-1)),Er={class:"col-sm-9 punk-text text-break"},Br={class:"mb-3 row domain-data mt-4"},Ur=ge(()=>n("div",{class:"col-sm-3 punk-title"}," Network ",-1)),Ir={class:"col-sm-9 punk-text text-break"};function Rr(e,t,i,a,s,o){const r=k("Sidebar"),p=k("EditOtherData");return l(),d("div",wr,[n("div",vr,[w(r)]),n("div",kr,[n("div",Tr,[n("div",Cr,[n("div",Dr,[n("h3",null,m(i.domainName)+"."+m(i.tld),1),n("img",{class:"img-thumbnail domain-image",src:s.pfpImage},null,8,xr),s.loadingData?(l(),d("div",Ar,Mr)):u("",!0),s.domainData?(l(),d("div",Sr,[Nr,n("div",Er,m(o.holderData),1)])):u("",!0),n("div",Br,[Ur,n("div",Ir,m(a.getChainName(Number(i.domainChain))),1)]),w(p,{domainData:s.domainData,tld:i.tld,domainName:i.domainName,isCorrectChainForDomain:o.isCorrectChainForDomain,onFetchData:o.fetchData},null,8,["domainData","tld","domainName","isCorrectChainForDomain","onFetchData"])])])])])])}var Fr=v(_r,[["render",Rr],["__scopeId","data-v-f6f36894"]]);const $r={name:"BuyDomain",data(){return{chosenDomainName:null,chosenAllowance:null,loading:!1,waiting:!1,minterContract:null}},components:{Referral:ye},computed:x(h(h(h({},f("user",["getPaymentTokenAddress","getPaymentTokenName","getPaymentTokenAllowance","getUserBalance","getCanUserBuy","getDiscountEligible"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getTldChainId","getTldChainName","getMinterAddress","getTldContract","getMinterTldPrice1","getMinterTldPrice2","getMinterTldPrice3","getMinterTldPrice4","getMinterTldPrice5","getMinterPaused","getMinterDiscountPercentage","getTldName"])),{getDiscountFactor(){let e=1;return this.getDiscountEligible&&this.getMinterDiscountPercentage>0&&(e-=this.getMinterDiscountPercentage/100),e},getPrice(){if(this.chosenDomainName){if(this.chosenDomainName.match(/./gu).length===1)return this.getMinterTldPrice1*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===2)return this.getMinterTldPrice2*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===3)return this.getMinterTldPrice3*this.getDiscountFactor;if(this.chosenDomainName.match(/./gu).length===4)return this.getMinterTldPrice4*this.getDiscountFactor}return this.getMinterTldPrice5*this.getDiscountFactor},domainLowerCase(){return this.chosenDomainName.toLowerCase()},hasUserEnoughTokens(){return!!(this.address&&Number(this.getUserBalance)>0&&Number(this.getUserBalance)>=Number(this.getPrice))},isNetworkSupported(){return!!(this.isActivated&&this.chainId===this.getTldChainId)}}),methods:x(h(h({},z("user",["fetchCanUserBuy","getPaymentTokenDecimals"])),K("user",["addDomainManually","setPaymentTokenAllowance"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.getTldName;if(await this.getTldContract.getDomainHolder(this.domainLowerCase)!==$){this.toast("Sorry, but this ID is already taken...",{type:c.ERROR}),this.waiting=!1;return}const i=new b(V),a=new g(this.getMinterAddress,i,this.signer);try{let s=localStorage.getItem("referral");(!s||!Q(s))&&(s=$);const o=await a.mint(this.domainLowerCase,this.address,s,{value:pe(this.getPrice)}),r=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),p=await o.wait();p.status===1?(this.toast.dismiss(r),this.toast("You have successfully claimed your ID!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(p),this.waiting=!1)}catch(s){console.log(s),this.waiting=!1,this.toast(s.message,{type:c.ERROR})}this.waiting=!1},changeNetwork(e){const t=this.switchNetwork(e);window.ethereum.request({method:t.method,params:t.params})}}),setup(){const{open:e}=ce(),{address:t,chainId:i,isActivated:a,signer:s}=M(),o=U(),{buyNotValid:r}=me(),{switchNetwork:p}=W();return{address:t,buyNotValid:r,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:p,toast:o}}},L=e=>(S("data-v-6190de3a"),e=e(),N(),e),Or={class:"container text-center"},Vr=L(()=>n("img",{class:"img-fluid main-img rounded",src:Me},null,-1)),Wr=L(()=>n("div",{class:"text-align-header mt-5"},[n("h1",null,"Your Satrap needs an ID")],-1)),Lr={class:"text-align-header"},Hr={class:"d-flex justify-content-center domain-input-container mb-3 mt-5"},Gr={class:"input-group domain-input input-group-lg input-sizing"},Kr={class:"input-group-text tld-addon border-2 border-light"},Yr={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},jr={class:"error"},qr={key:0},Jr={key:0,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:!0},zr={key:0},Xr=["disabled"],Zr=L(()=>n("span",null,"You need to own a Satrap NFT",-1)),Qr=[Zr],el=["disabled"],tl=["disabled"],nl={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},sl=L(()=>n("span",null,"CLAIM ID",-1)),al={key:5,class:"mt-4"},il=L(()=>n("div",{class:"text-align-header mt-5"},[n("h3",null,"BE A PART OF HISTORY AND CLAIM YOUR ON-CHAIN ID")],-1)),ol={class:"row mt-5"},rl={class:"col-md-6 offset-md-3 table-container"},ll={class:"table table-borderless table-ppl"},dl=L(()=>n("thead",{class:"table-light"},[n("tr",null,[n("th",{scope:"col"},"ID length"),n("th",{scope:"col"},"Price")])],-1)),cl=L(()=>n("td",null,"1 character",-1)),ul=L(()=>n("td",null,"2 characters",-1)),pl=L(()=>n("td",null,"3 characters",-1)),ml=L(()=>n("td",null,"4 characters",-1)),hl=L(()=>n("td",null,"5+ characters",-1));function yl(e,t,i,a,s,o){const r=k("Referral");return l(),d(F,null,[n("div",Or,[Vr,Wr,n("div",Lr," Price: "+m(Math.floor(o.getPrice))+" "+m(e.getPaymentTokenName),1),n("div",Hr,[n("div",Gr,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>s.chosenDomainName=p),placeholder:"Enter your desired ID",type:"text",class:"form-control text-end border-2 border-end-0 border-light","aria-label":"Text input with dropdown button"},null,512),[[C,s.chosenDomainName]]),n("span",Kr,[s.loading?(l(),d("span",Yr)):u("",!0),n("span",null,m(e.getTldName),1)])])]),n("p",jr,[a.buyNotValid(s.chosenDomainName).invalid?(l(),d("small",qr,[n("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])):u("",!0)]),a.isActivated&&e.getMinterPaused?(l(),d("button",Jr,[e.getMinterPaused?(l(),d("span",zr,"Claiming is paused")):u("",!0)])):u("",!0),a.isActivated&&o.isNetworkSupported&&!e.getMinterPaused&&!e.getCanUserBuy?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid||!o.hasUserEnoughTokens},Qr,8,Xr)):u("",!0),a.isActivated&&o.isNetworkSupported&&!e.getMinterPaused&&!o.hasUserEnoughTokens&&e.getCanUserBuy?(l(),d("button",{key:2,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid||!o.hasUserEnoughTokens},[n("span",null,"Your "+m(e.getPaymentTokenName)+" balance is too low",1)],8,el)):u("",!0),a.isActivated&&o.isNetworkSupported&&e.getCanUserBuy&&!e.getMinterPaused&&o.hasUserEnoughTokens?(l(),d("button",{key:3,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:t[1]||(t[1]=(...p)=>o.buyDomain&&o.buyDomain(...p)),disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid||!o.hasUserEnoughTokens},[s.waiting?(l(),d("span",nl)):u("",!0),sl],8,tl)):u("",!0),a.isActivated?u("",!0):(l(),d("button",{key:4,class:"btn btn-primary btn-lg mt-3 btn-Disconnected",onClick:t[2]||(t[2]=(...p)=>a.open&&a.open(...p))},"Connect wallet")),a.isActivated&&!o.isNetworkSupported?(l(),d("div",al,[n("button",{class:"btn btn-primary btn-lg btn-Disconnected",onClick:t[3]||(t[3]=p=>o.changeNetwork(this.getTldChainName))},"Switch to "+m(e.getTldChainName),1)])):u("",!0),il,n("div",ol,[n("div",rl,[n("table",ll,[dl,n("tbody",null,[n("tr",null,[cl,n("td",null,m(Math.floor(e.getMinterTldPrice1*this.getDiscountFactor))+" "+m(e.getPaymentTokenName),1)]),n("tr",null,[ul,n("td",null,m(Math.floor(e.getMinterTldPrice2*this.getDiscountFactor))+" "+m(e.getPaymentTokenName),1)]),n("tr",null,[pl,n("td",null,m(Math.floor(e.getMinterTldPrice3*this.getDiscountFactor))+" "+m(e.getPaymentTokenName),1)]),n("tr",null,[ml,n("td",null,m(Math.floor(e.getMinterTldPrice4*this.getDiscountFactor))+" "+m(e.getPaymentTokenName),1)]),n("tr",null,[hl,n("td",null,m(Math.floor(e.getMinterTldPrice5*this.getDiscountFactor))+" "+m(e.getPaymentTokenName),1)])])])])])]),a.isActivated?(l(),H(r,{key:0})):u("",!0)],64)}var be=v($r,[["render",yl],["__scopeId","data-v-6190de3a"]]);const fl={name:"Home",components:{BuyDomain:be}};function gl(e,t,i,a,s,o){const r=k("BuyDomain");return l(),H(r)}var bl=v(fl,[["render",gl]]);const _l={name:"HowItWorks"},Ne=e=>(S("data-v-1a9c5139"),e=e(),N(),e),wl={class:"container"},vl=Ne(()=>n("h1",{class:"text-center"},"How it works",-1)),kl=Ne(()=>n("div",{class:"row mt-3"},[n("div",{class:"col-md-8 offset-md-2"},[n("p",null,[D(" Read the Docs "),n("a",{href:"https://docs.punk.domains/"},"Here!")])])],-1)),Tl=[vl,kl];function Cl(e,t,i,a,s,o){return l(),d("div",wl,Tl)}var Dl=v(_l,[["render",Cl],["__scopeId","data-v-1a9c5139"]]);const xl={name:"MintDomains",components:{BuyDomain:be}};function Al(e,t,i,a,s,o){const r=k("BuyDomain");return l(),H(r)}var Pl=v(xl,[["render",Al]]);const Ml={name:"MyDomain",props:["domain"],computed:x(h(h(h(h({},f("punk",["getTldAbi"])),f("network",["getChainId","getBlockExplorerBaseUrl"])),f("user",["getUserSelectedName"])),f("tld",["getTldAddress"])),{getDomainName(){return this.domain?this.domain.split(".")[0]:""}}),data(){return{waiting:!1}},methods:x(h(h({},z("user",["fetchSelectedNameData"])),K("user",["setSelectedName"])),{async setAsDefaultName(){this.waiting=!0;try{const e=new b(this.getTldAbi),i=await new g(this.getTldAddress,e,this.signer).editDefaultDomain(this.getDomainName),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have successfully set "+this.domain+" as your default ID!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waiting=!1,document.getElementById("closeDefaultDomainModal"+this.getDomainName).click(),this.setSelectedName(this.domain),this.fetchSelectedNameData()):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waiting=!1,document.getElementById("closeDefaultDomainModal"+this.getDomainName).click())}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:c.ERROR}),document.getElementById("closeDefaultDomainModal"+this.getDomainName).click()}}}),setup(){const{address:e,signer:t}=M(),i=U();return{address:e,signer:t,toast:i}}},_e=e=>(S("data-v-ec01500e"),e=e(),N(),e),Sl={key:0},Nl=_e(()=>n("i",{class:"bi bi-check2-circle"},null,-1)),El=D(" Default "),Bl=[Nl,El],Ul=["data-bs-target"],Il=["id","aria-labelledby"],Rl={class:"modal-dialog modal-dialog-centered"},Fl={class:"modal-content"},$l={class:"modal-header"},Ol=["id"],Vl=_e(()=>n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Wl={class:"modal-body"},Ll=D(" Do you really want to set "),Hl=D(" as your default ID? "),Gl=_e(()=>n("p",null," (This action will require an on-chain transaction.) ",-1)),Kl={class:"modal-footer"},Yl=["disabled"],jl={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ql=D(" Set as default "),Jl=["id"];function zl(e,t,i,a,s,o){return l(),d(F,null,[n("td",null,[n("span",null,m(i.domain),1)]),n("td",null,[n("span",{class:"text-click",onClick:t[0]||(t[0]=r=>this.$router.push({name:"DomainDetails",params:{domainChain:e.getChainId,tld:i.domain.split(".")[1],domainName:i.domain.split(".")[0]}}))}," Edit ID data ")]),n("td",null,[n("span",{class:"text-click",onClick:t[1]||(t[1]=r=>this.$router.push({name:"TransferDomain",params:{tld:i.domain.split(".")[1],domainName:i.domain.split(".")[0]}}))}," Transfer ID ")]),n("td",null,[e.getUserSelectedName===i.domain?(l(),d("span",Sl,Bl)):(l(),d("span",{key:1,class:"text-click","data-bs-toggle":"modal","data-bs-target":"#defaultNameModal"+o.getDomainName}," Set as default name ",8,Ul))]),n("div",{class:"modal fade text-start",id:"defaultNameModal"+o.getDomainName,tabindex:"-1","aria-labelledby":"defaultNameModalLabel"+o.getDomainName,"aria-hidden":"true"},[n("div",Rl,[n("div",Fl,[n("div",$l,[n("h5",{class:"modal-title",id:"defaultNameModalLabel"+o.getDomainName},"Set "+m(i.domain)+" as default ID",9,Ol),Vl]),n("div",Wl,[n("p",null,[Ll,n("strong",null,m(i.domain),1),Hl]),Gl]),n("div",Kl,[n("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...r)=>o.setAsDefaultName&&o.setAsDefaultName(...r)),disabled:s.waiting},[s.waiting?(l(),d("span",jl)):u("",!0),ql],8,Yl),n("button",{id:"closeDefaultDomainModal"+o.getDomainName,type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",8,Jl)])])])],8,Il)],64)}var Xl=v(Ml,[["render",zl],["__scopeId","data-v-ec01500e"]]);const Zl={name:"Profile",data(){return{existingDomain:null,loading:!1}},components:{MyDomain:Xl,Referral:ye,Sidebar:G},computed:x(h(h({},f("tld",["getTldAddress","getTldName"])),f("user",["getUserAddress","getPaymentTokenName","getUserSelectedNameData","getUserAllDomainNames","getPaymentTokenAddress","getPaymentTokenAllowance","getUserBalance","getPaymentTokenContract"])),{customData(){if(this.getUserSelectedNameData)try{return JSON.parse(this.getUserSelectedNameData.data)}catch{return null}return null},domainNotValid(){if(this.existingDomain==="")return!0;if(this.existingDomain===null)return!0;if(this.existingDomain.split(".").length!=2)return!0;if(this.existingDomain.includes(" "))return!0;if(this.existingDomain.includes("%"))return!0;if(this.existingDomain.includes("&"))return!0;if(this.existingDomain.includes("?"))return!0;if(this.existingDomain.includes("#"))return!0;if(!this.existingDomain.includes(this.getTldName))return!0}}),methods:x(h({},K("user",["addDomainManually"])),{async addExistingDomain(){const e=this.existingDomain.toLowerCase(),t=e.split("."),i=new b(j),s=await new g(this.getTldAddress,i,this.signer).getDomainHolder(t[0]);String(s)===String(this.address)?(this.addDomainManually(e),this.toast("Domain successfully added.",{type:c.SUCCESS})):this.toast("This domain is not owned by your currently connected address.",{type:c.ERROR})}}),setup(){const{address:e,isActivated:t,signer:i}=M(),a=U(),{getFallbackProvider:s}=W();return{address:e,getFallbackProvider:s,isActivated:t,signer:i,toast:a}}},X=e=>(S("data-v-69edde43"),e=e(),N(),e),Ql={class:"row"},ed={class:"col-md-3",id:"sidebar-container"},td={class:"col-md-9"},nd={key:0,class:"row"},sd=Te('<div class="col-md-12 mb-3" data-v-69edde43><div class="container text-center" data-v-69edde43><h3 data-v-69edde43><i class="bi bi-exclamation-triangle" data-v-69edde43></i> Not connected <i class="bi bi-exclamation-triangle" data-v-69edde43></i></h3><p class="text-break" data-v-69edde43> Please connect with your wallet to see your profile data. </p></div></div>',1),ad=[sd],id={key:1,class:"row"},od={class:"col-md-6 mb-3"},rd={class:"container text-center"},ld=X(()=>n("h3",null,"Address",-1)),dd={class:"text-break"},cd={class:"col-md-6 mb-3"},ud={class:"container text-center"},pd=X(()=>n("h3",null,"Balance",-1)),md={class:"text-break"},hd={class:"row"},yd={class:"col-md-12"},fd={class:"container"},gd=X(()=>n("h3",null,"Domains",-1)),bd={class:"table table-hover mt-4 mb-4"},_d={key:0},wd=X(()=>n("small",null,[n("em",null,[D(" Don't see your domain here? "),n("span",{class:"span-link","data-bs-toggle":"modal","data-bs-target":"#addDomainModal"}," Add it manually"),D(". ")])],-1)),vd=[wd],kd={key:1},Td=D(" No domain? No worries, "),Cd=D("buy yourself one here!"),Dd={class:"modal fade",id:"addDomainModal",tabindex:"-1","aria-labelledby":"addDomainModalLabel","aria-hidden":"true","modal-dialog-centered":""},xd={class:"modal-dialog"},Ad={class:"modal-content"},Pd=X(()=>n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"addDomainModalLabel"},"Add your existing domain"),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Md={class:"modal-body"},Sd={class:"mb-3"},Nd=X(()=>n("label",{for:"recipient-name",class:"col-form-label"},"Enter your existing domain:",-1)),Ed=X(()=>n("small",null,[n("em",null,"No transaction will be made, this is a free query.")],-1)),Bd={class:"modal-footer"},Ud=["disabled"],Id=X(()=>n("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Rd(e,t,i,a,s,o){const r=k("Sidebar"),p=k("MyDomain"),_=k("router-link"),I=k("Referral");return l(),d(F,null,[n("div",Ql,[n("div",ed,[w(r)]),n("div",td,[a.isActivated?u("",!0):(l(),d("div",nd,ad)),a.isActivated?(l(),d("div",id,[n("div",od,[n("div",rd,[ld,n("p",dd,m(e.getUserAddress),1)])]),n("div",cd,[n("div",ud,[pd,n("p",md,m(e.getUserBalance)+" "+m(this.getPaymentTokenName),1)])])])):u("",!0),n("div",hd,[n("div",yd,[n("div",fd,[gd,n("table",bd,[n("tbody",null,[(l(!0),d(F,null,ae(e.getUserAllDomainNames,P=>(l(),d("tr",{key:P},[w(p,{domain:P},null,8,["domain"])]))),128))])]),e.getUserSelectedNameData?(l(),d("p",_d,vd)):(l(),d("p",kd,[Td,w(_,{to:"/"},{default:E(()=>[Cd]),_:1})]))])])]),w(I)])]),n("div",Dd,[n("div",xd,[n("div",Ad,[Pd,n("div",Md,[n("div",Sd,[Nd,T(n("input",{type:"text",placeholder:"Enter domain",class:"form-control border-2",id:"recipient-name","onUpdate:modelValue":t[0]||(t[0]=P=>s.existingDomain=P)},null,512),[[C,s.existingDomain]]),Ed])]),n("div",Bd,[n("button",{type:"button",onClick:t[1]||(t[1]=(...P)=>o.addExistingDomain&&o.addExistingDomain(...P)),class:"btn btn-secondary",disabled:o.domainNotValid},"Add domain",8,Ud),Id])])])])],64)}var Fd=v(Zl,[["render",Rd],["__scopeId","data-v-69edde43"]]);const $d={name:"ProfileBuyDomain",components:{BuyDomain:be,Sidebar:G}},Od={class:"row"},Vd={class:"col-md-3",id:"sidebar-container"},Wd={class:"col-md-9"};function Ld(e,t,i,a,s,o){const r=k("Sidebar"),p=k("BuyDomain");return l(),d("div",Od,[n("div",Vd,[w(r)]),n("div",Wd,[w(p)])])}var Hd=v($d,[["render",Ld]]);const Gd={name:"ProfileClaimFreeDomain",components:{ClaimFreeMint:Se,Sidebar:G}},Kd={class:"row"},Yd={class:"col-md-3",id:"sidebar-container"},jd={class:"col-md-9"};function qd(e,t,i,a,s,o){const r=k("Sidebar"),p=k("ClaimFreeMint");return l(),d("div",Kd,[n("div",Yd,[w(r)]),n("div",jd,[w(p)])])}var Jd=v(Gd,[["render",qd]]),Ee=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_governance",internalType:"address"},{type:"uint256",name:"_feePercentageUpdateOffset",internalType:"uint256"},{type:"uint256",name:"_defaultFeePercentage",internalType:"uint256"}]},{type:"event",name:"DailyAuthorizedInflationSet",inputs:[{type:"uint256",name:"authorizedAmountWei",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"FeePercentageChanged",inputs:[{type:"address",name:"dataProvider",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1},{type:"uint256",name:"validFromEpoch",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"GovernanceProposed",inputs:[{type:"address",name:"proposedGovernance",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"GovernanceUpdated",inputs:[{type:"address",name:"oldGovernance",internalType:"address",indexed:!1},{type:"address",name:"newGoveranance",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"InflationReceived",inputs:[{type:"uint256",name:"amountReceivedWei",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"RewardClaimed",inputs:[{type:"address",name:"dataProvider",internalType:"address",indexed:!0},{type:"address",name:"whoClaimed",internalType:"address",indexed:!0},{type:"address",name:"sentTo",internalType:"address",indexed:!0},{type:"uint256",name:"rewardEpoch",internalType:"uint256",indexed:!1},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"RewardClaimsExpired",inputs:[{type:"uint256",name:"rewardEpochId",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"RewardsDistributed",inputs:[{type:"address",name:"ftso",internalType:"address",indexed:!0},{type:"uint256",name:"epochId",internalType:"uint256",indexed:!1},{type:"address[]",name:"addresses",internalType:"address[]",indexed:!1},{type:"uint256[]",name:"rewards",internalType:"uint256[]",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"nonpayable",outputs:[],name:"activate",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"active",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claimGovernance",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"_rewardAmount",internalType:"uint256"}],name:"claimReward",inputs:[{type:"address",name:"_recipient",internalType:"address payable"},{type:"uint256[]",name:"_rewardEpochs",internalType:"uint256[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"_rewardAmount",internalType:"uint256"}],name:"claimRewardFromDataProviders",inputs:[{type:"address",name:"_recipient",internalType:"address payable"},{type:"uint256[]",name:"_rewardEpochs",internalType:"uint256[]"},{type:"address[]",name:"_dataProviders",internalType:"address[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"closeExpiredRewardEpoch",inputs:[{type:"uint256",name:"_rewardEpoch",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"dailyAuthorizedInflation",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"deactivate",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"defaultFeePercentage",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"distributeRewards",inputs:[{type:"address[]",name:"_addresses",internalType:"address[]"},{type:"uint256[]",name:"_weights",internalType:"uint256[]"},{type:"uint256",name:"_totalWeight",internalType:"uint256"},{type:"uint256",name:"_epochId",internalType:"uint256"},{type:"address",name:"_ftso",internalType:"address"},{type:"uint256",name:"_priceEpochDurationSeconds",internalType:"uint256"},{type:"uint256",name:"_currentRewardEpoch",internalType:"uint256"},{type:"uint256",name:"_priceEpochEndTime",internalType:"uint256"},{type:"uint256",name:"_votePowerBlock",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"feePercentageUpdateOffset",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IIFtsoManager"}],name:"ftsoManager",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"_claimed",internalType:"bool"},{type:"uint256",name:"_amount",internalType:"uint256"}],name:"getClaimedReward",inputs:[{type:"uint256",name:"_rewardEpoch",internalType:"uint256"},{type:"address",name:"_dataProvider",internalType:"address"},{type:"address",name:"_claimer",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"getDataProviderCurrentFeePercentage",inputs:[{type:"address",name:"_dataProvider",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256[]",name:"_feePercentageBIPS",internalType:"uint256[]"},{type:"uint256[]",name:"_validFromEpoch",internalType:"uint256[]"},{type:"bool[]",name:"_fixed",internalType:"bool[]"}],name:"getDataProviderScheduledFeePercentageChanges",inputs:[{type:"address",name:"_dataProvider",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"_totalReward",internalType:"uint256"},{type:"uint256",name:"_claimedReward",internalType:"uint256"}],name:"getEpochReward",inputs:[{type:"uint256",name:"_rewardEpoch",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"_startEpochId",internalType:"uint256"},{type:"uint256",name:"_endEpochId",internalType:"uint256"}],name:"getEpochsWithClaimableRewards",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256[]",name:"_epochIds",internalType:"uint256[]"}],name:"getEpochsWithUnclaimedRewards",inputs:[{type:"address",name:"_beneficiary",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"getInflationAddress",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"getRewardEpochToExpireNext",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address[]",name:"_dataProviders",internalType:"address[]"},{type:"uint256[]",name:"_rewardAmounts",internalType:"uint256[]"},{type:"bool[]",name:"_claimed",internalType:"bool[]"},{type:"bool",name:"_claimable",internalType:"bool"}],name:"getStateOfRewards",inputs:[{type:"address",name:"_beneficiary",internalType:"address"},{type:"uint256",name:"_rewardEpoch",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256[]",name:"_rewardAmounts",internalType:"uint256[]"},{type:"bool[]",name:"_claimed",internalType:"bool[]"},{type:"bool",name:"_claimable",internalType:"bool"}],name:"getStateOfRewardsFromDataProviders",inputs:[{type:"address",name:"_beneficiary",internalType:"address"},{type:"uint256",name:"_rewardEpoch",internalType:"uint256"},{type:"address[]",name:"_dataProviders",internalType:"address[]"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"_foundationAllocatedFundsWei",internalType:"uint256"},{type:"uint256",name:"_totalInflationAuthorizedWei",internalType:"uint256"},{type:"uint256",name:"_totalClaimedWei",internalType:"uint256"}],name:"getTokenPoolSupplyData",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"_amount",internalType:"uint256"},{type:"uint256",name:"_weight",internalType:"uint256"}],name:"getUnclaimedReward",inputs:[{type:"uint256",name:"_rewardEpoch",internalType:"uint256"},{type:"address",name:"_dataProvider",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"governance",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"initialise",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"lastInflationAuthorizationReceivedTs",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"proposeGovernance",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"proposedGovernance",inputs:[]},{type:"function",stateMutability:"payable",outputs:[],name:"receiveInflation",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setContractAddresses",inputs:[{type:"address",name:"_inflation",internalType:"address"},{type:"address",name:"_ftsoManager",internalType:"contract IIFtsoManager"},{type:"address",name:"_wNat",internalType:"contract WNat"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setDailyAuthorizedInflation",inputs:[{type:"uint256",name:"_toAuthorizeWei",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"setDataProviderFeePercentage",inputs:[{type:"uint256",name:"_feePercentageBIPS",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalAwardedWei",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalClaimedWei",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalExpiredWei",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalInflationAuthorizedWei",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalInflationReceivedWei",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSelfDestructReceivedWei",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferGovernance",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract WNat"}],name:"wNat",inputs:[]}],Be=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_governance",internalType:"address"},{type:"string",name:"_name",internalType:"string"},{type:"string",name:"_symbol",internalType:"string"}]},{type:"event",name:"Approval",inputs:[{type:"address",name:"owner",internalType:"address",indexed:!0},{type:"address",name:"spender",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"CreatedTotalSupplyCache",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{type:"address",name:"dst",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"GovernanceProposed",inputs:[{type:"address",name:"proposedGovernance",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"GovernanceUpdated",inputs:[{type:"address",name:"oldGovernance",internalType:"address",indexed:!1},{type:"address",name:"newGoveranance",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"VotePowerContractChanged",inputs:[{type:"uint256",name:"_contractType",internalType:"uint256",indexed:!1},{type:"address",name:"_oldContractAddress",internalType:"address",indexed:!1},{type:"address",name:"_newContractAddress",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{type:"address",name:"src",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"allowance",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"address",name:"spender",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"approve",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceHistoryCleanup",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_count",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceOf",inputs:[{type:"address",name:"account",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balanceOfAt",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256[]",name:"",internalType:"uint256[]"}],name:"batchVotePowerOfAt",inputs:[{type:"address[]",name:"_owners",internalType:"address[]"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claimGovernance",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"cleanupBlockNumber",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint8",name:"",internalType:"uint8"}],name:"decimals",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"decreaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"subtractedValue",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"delegate",inputs:[{type:"address",name:"_to",internalType:"address"},{type:"uint256",name:"_bips",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"delegateExplicit",inputs:[{type:"address",name:"_to",internalType:"address"},{type:"uint256",name:"_amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address[]",name:"_delegateAddresses",internalType:"address[]"},{type:"uint256[]",name:"_bips",internalType:"uint256[]"},{type:"uint256",name:"_count",internalType:"uint256"},{type:"uint256",name:"_delegationMode",internalType:"uint256"}],name:"delegatesOf",inputs:[{type:"address",name:"_owner",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address[]",name:"_delegateAddresses",internalType:"address[]"},{type:"uint256[]",name:"_bips",internalType:"uint256[]"},{type:"uint256",name:"_count",internalType:"uint256"},{type:"uint256",name:"_delegationMode",internalType:"uint256"}],name:"delegatesOfAt",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"delegationModeOf",inputs:[{type:"address",name:"_who",internalType:"address"}]},{type:"function",stateMutability:"payable",outputs:[],name:"deposit",inputs:[]},{type:"function",stateMutability:"payable",outputs:[],name:"depositTo",inputs:[{type:"address",name:"recipient",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"governance",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IGovernanceVotePower"}],name:"governanceVotePower",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"increaseAllowance",inputs:[{type:"address",name:"spender",internalType:"address"},{type:"uint256",name:"addedValue",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"initialise",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"name",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"needsReplacementVPContract",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"proposeGovernance",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"proposedGovernance",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IVPContractEvents"}],name:"readVotePowerContract",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"revokeDelegationAt",inputs:[{type:"address",name:"_who",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setCleanerContract",inputs:[{type:"address",name:"_cleanerContract",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setCleanupBlockNumber",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setCleanupBlockNumberManager",inputs:[{type:"address",name:"_cleanupBlockNumberManager",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setGovernanceVotePower",inputs:[{type:"address",name:"_governanceVotePower",internalType:"contract IIGovernanceVotePower"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setReadVpContract",inputs:[{type:"address",name:"_vpContract",internalType:"contract IIVPContract"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"setWriteVpContract",inputs:[{type:"address",name:"_vpContract",internalType:"contract IIVPContract"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"symbol",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupply",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupplyAt",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupplyCacheCleanup",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupplyHistoryCleanup",inputs:[{type:"uint256",name:"_count",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalVotePower",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalVotePowerAt",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalVotePowerAtCached",inputs:[{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transfer",inputs:[{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transferFrom",inputs:[{type:"address",name:"sender",internalType:"address"},{type:"address",name:"recipient",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferGovernance",inputs:[{type:"address",name:"_governance",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"undelegateAll",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"_remainingDelegation",internalType:"uint256"}],name:"undelegateAllExplicit",inputs:[{type:"address[]",name:"_delegateAddresses",internalType:"address[]"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"undelegatedVotePowerOf",inputs:[{type:"address",name:"_owner",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"undelegatedVotePowerOfAt",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"votePowerFromTo",inputs:[{type:"address",name:"_from",internalType:"address"},{type:"address",name:"_to",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"votePowerFromToAt",inputs:[{type:"address",name:"_from",internalType:"address"},{type:"address",name:"_to",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"votePowerOf",inputs:[{type:"address",name:"_owner",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"votePowerOfAt",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"votePowerOfAtCached",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"uint256",name:"_blockNumber",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdraw",inputs:[{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdrawFrom",inputs:[{type:"address",name:"owner",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IVPContractEvents"}],name:"writeVotePowerContract",inputs:[]},{type:"receive",stateMutability:"payable"}];const zd={name:"DelegateFtso",data(){return{delegatePercentageAmount:null,ftsoRewardManagerAddress:"0xc5738334b972745067fFa666040fdeADc66Cb925",ftsoRewardManagerBalance:0,satrapsFtsoAddress:"0x9d3b56eFDF431E40D7a3C074dF8854F0A2BdfBfF",unclaimedEpochs:null,unclaimedRewards:0,waitingClaim:!1,waitingPerc:!1,waitingWsgb:!1,wrapSgbAmount:null,wsgbAddress:"0x02f0826ef6aD107Cfc861152B32B52fD11BaB9ED"}},created(){this.fetchData()},computed:x(h(h({},f("tld",["getTldName"])),f("user",["getUserAddress","getPaymentTokenName","getUserBalance"])),{isFtsoManagerBalanceTooLow(){return this.unclaimedRewards>this.ftsoRewardManagerBalance},percentageNotValid(){return this.delegatePercentageAmount<0||this.delegatePercentageAmount>100}}),methods:x(h({},K("user",["addUserBalance","subtractUserBalance"])),{enterMaxSgb(){Number(this.getUserBalance)>1&&(this.wrapSgbAmount=String(Number(this.getUserBalance)-1))},async claimRewards(){this.waitingClaim=!0;const e=new b(Ee),t=new g(this.ftsoRewardManagerAddress,e,this.signer);try{const i=await t.claimReward(this.address,this.unclaimedEpochs),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have successfully claimed your rewards!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.addUserBalance(Number(this.unclaimedRewards)),this.fetchData(),this.waitingClaim=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingClaim=!1)}catch(i){this.waitingClaim=!1,console.log(i),this.toast("The transaction cannot go through. The reason may be that the reward pool is empty, so wait for a refill.",{type:c.ERROR})}},async delegatePercentage(){this.waitingPerc=!0;const e=new b(Be),t=new g(this.wsgbAddress,e,this.signer);if(Number(this.delegatePercentageAmount)>100)this.delegatePercentageAmount=100;else if(Number(this.delegatePercentageAmount)<0){this.toast("You cannot set amount lower than 0.",{type:c.ERROR}),this.waitingPerc=!1;return}try{const i=await t.delegate(this.satrapsFtsoAddress,Number(this.delegatePercentageAmount)*100),a=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have successfully set the percentage of WSGB that you stake to the Satraps FTSO!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.waitingPerc=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waitingPerc=!1)}catch(i){this.waitingPerc=!1,console.log(i),this.toast(i.message,{type:c.ERROR})}},async fetchData(){if(this.signer){const e=new b(Ee),t=new g(this.ftsoRewardManagerAddress,e,this.signer);if(this.unclaimedEpochs=await t.getEpochsWithUnclaimedRewards(this.address),this.unclaimedEpochs){this.unclaimedRewards=0;for(let a of this.unclaimedEpochs){let s=await t.getStateOfRewards(this.address,a),o=Y(s._rewardAmounts[0]);this.unclaimedRewards+=Number(o)}}const i=await this.signer.provider.getBalance(this.ftsoRewardManagerAddress);this.ftsoRewardManagerBalance=Y(i)}},async wrapSgb(){this.waitingWsgb=!0;const e=new b(Be),t=new g(this.wsgbAddress,e,this.signer),i=pe(this.wrapSgbAmount);try{const a=await t.deposit({value:i}),s=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully wrapped your SGB!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.subtractUserBalance(Number(this.wrapSgbAmount)),this.waitingWsgb=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waitingWsgb=!1)}catch(a){this.waitingWsgb=!1,console.log(a),this.toast(a.message,{type:c.ERROR})}}}),setup(){const{address:e,signer:t}=M(),i=U(),{getFallbackProvider:a}=W();return{address:e,getFallbackProvider:a,signer:t,toast:i}},watch:{address(e,t){e&&this.fetchData()}}},q=e=>(S("data-v-78299135"),e=e(),N(),e),Xd={class:"container text-center"},Zd=q(()=>n("h3",null,"Delegate to the Satraps FTSO",-1)),Qd=q(()=>n("p",{class:"mt-3"},"Consider delegating your WSGB to the Satraps FTSO.",-1)),ec=q(()=>n("hr",{class:"mt-5"},null,-1)),tc={class:"row mt-5"},nc=q(()=>n("h4",null,"Wrap your SGB to WSGB",-1)),sc={class:"col-md-6 offset-md-3"},ac=["disabled"],ic={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},oc=D(" Wrap SGB "),rc=q(()=>n("hr",null,null,-1)),lc={class:"row mt-5"},dc=q(()=>n("h4",null,"Delegate your WSGB to the Satraps FTSO",-1)),cc={class:"col-md-6 offset-md-3"},uc=q(()=>n("small",null,"Enter a number between 0 and 100.",-1)),pc=["disabled"],mc={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},hc=D(" Delegate WSGB "),yc=q(()=>n("hr",null,null,-1)),fc={class:"row mt-5"},gc=q(()=>n("h4",null,"Claim rewards",-1)),bc=["disabled"],_c={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},wc=D(" Claim rewards "),vc={key:0};function kc(e,t,i,a,s,o){return l(),d("div",Xd,[Zd,Qd,ec,n("div",tc,[nc,n("div",sc,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.wrapSgbAmount=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the amount of SGB to wrap"},null,512),[[C,s.wrapSgbAmount]]),n("small",{class:"balance",onClick:t[1]||(t[1]=(...r)=>o.enterMaxSgb&&o.enterMaxSgb(...r))},"Balance: "+m(e.getUserBalance)+" "+m(this.getPaymentTokenName),1)])]),n("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[2]||(t[2]=(...r)=>o.wrapSgb&&o.wrapSgb(...r)),disabled:s.waitingWsgb},[s.waitingWsgb?(l(),d("span",ic)):u("",!0),oc],8,ac),rc,n("div",lc,[dc,n("div",cc,[T(n("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.delegatePercentageAmount=r),type:"number",min:"0",max:"100",class:"form-control text-center border-2 border-light",placeholder:"What percentage of WSGB will you delegate?"},null,512),[[C,s.delegatePercentageAmount]]),uc])]),n("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[4]||(t[4]=(...r)=>o.delegatePercentage&&o.delegatePercentage(...r)),disabled:s.waitingPerc||o.percentageNotValid},[s.waitingPerc?(l(),d("span",mc)):u("",!0),hc],8,pc),yc,n("div",fc,[gc,n("p",null,"Claimable: "+m(s.unclaimedRewards.toFixed(5))+" "+m(this.getPaymentTokenName),1)]),n("button",{class:"btn btn-primary mt-3",onClick:t[5]||(t[5]=(...r)=>o.claimRewards&&o.claimRewards(...r)),disabled:s.waitingClaim||o.isFtsoManagerBalanceTooLow||s.unclaimedRewards==0},[s.waitingClaim?(l(),d("span",_c)):u("",!0),wc],8,bc),n("p",null,[o.isFtsoManagerBalanceTooLow?(l(),d("small",vc,"The FTSO Manager contract balance is too low.")):u("",!0)])])}var Tc=v(zd,[["render",kc],["__scopeId","data-v-78299135"]]);const Cc={name:"ProfileDelegateFtso",components:{DelegateFtso:Tc,Sidebar:G}},Dc={class:"row"},xc={class:"col-md-3",id:"sidebar-container"},Ac={class:"col-md-9"};function Pc(e,t,i,a,s,o){const r=k("Sidebar"),p=k("DelegateFtso");return l(),d("div",Dc,[n("div",xc,[w(r)]),n("div",Ac,[w(p)])])}var Mc=v(Cc,[["render",Pc]]);const Sc={name:"DomainSearch",data(){return{query:null,waiting:!1}},computed:x(h({},f("tld",["getTldName"])),{domainLowerCase(){return this.query.toLowerCase()},notValid(){if(this.query)if(this.query.includes(".")){if(this.query.includes(" "))return!0;if(this.query.includes("%"))return!0;if(this.query.includes("&"))return!0;if(this.query.includes("?"))return!0;if(this.query.includes("#"))return!0;if(this.query.includes("/"))return!0}else return!0;else return!0;return!1}}),methods:{async findDomain(){this.waiting=!0;const e=new b(j);if(this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const t=this.domainLowerCase.split(".");for(let i in O)if(O[i]["."+t[1]]){const a=this.getFallbackProvider(Number(i));if(await new g(O[i]["."+t[1]],e,a).getDomainHolder(t[0])!==$){this.$router.push({name:"DomainDetails",params:{domainChain:i,tld:t[1],domainName:t[0]}});return}else{this.toast("This ID has not been claimed yet.",{type:c.INFO}),this.waiting=!1;return}}this.toast("Top-level domain ."+t[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:c.ERROR}),this.waiting=!1;return}else{this.toast("This is not a valid domain.",{type:c.ERROR}),this.waiting=!1;return}}},setup(){const e=U(),{getFallbackProvider:t}=W();return{getFallbackProvider:t,toast:e}}},Nc={class:"container text-center"},Ec={class:"row mt-5"},Bc={class:"col-md-6 offset-md-3"},Uc=["disabled"],Ic={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Rc=D(" Search ");function Fc(e,t,i,a,s,o){return l(),d("div",Nc,[n("h3",null,"Find a "+m(e.getTldName)+" ID",1),n("div",Ec,[n("div",Bc,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.query=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a SATRAP ID",onKeyup:t[1]||(t[1]=Xe((...r)=>o.findDomain&&o.findDomain(...r),["enter"]))},null,544),[[C,s.query]])])]),n("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[2]||(t[2]=(...r)=>o.findDomain&&o.findDomain(...r)),disabled:s.waiting||o.notValid},[s.waiting?(l(),d("span",Ic)):u("",!0),Rc],8,Uc)])}var Ue=v(Sc,[["render",Fc]]);const $c={name:"ProfileSearchDomain",components:{DomainSearch:Ue,Sidebar:G}},Oc={class:"row"},Vc={class:"col-md-3",id:"sidebar-container"},Wc={class:"col-md-9"};function Lc(e,t,i,a,s,o){const r=k("Sidebar"),p=k("DomainSearch");return l(),d("div",Oc,[n("div",Vc,[w(r)]),n("div",Wc,[w(p)])])}var Hc=v($c,[["render",Lc]]);const Gc={name:"TokenSender",data(){return{domainError:null,filterTokens:null,receiver:null,receiverAddress:null,tokenBalance:0,selectedToken:null,selectedTokenDecimals:null,tokenAmount:null,waiting:!1,validating:!1}},created(){this.getChainId>=1&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=Y(this.balance))},computed:x(h(h(h(h({},f("network",["getBlockExplorerBaseUrl","getChainId","getNetworkName","getTokens"])),f("user",["getUserBalance"])),f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),{domainLowerCase(){return this.receiver?this.receiver.toLowerCase():null},formatTokenBalance(){return this.tokenBalance>100?Number(this.tokenBalance).toFixed(2):Number(this.tokenBalance).toFixed(4)},getTokenNames(){if(this.getTokens&&!this.filterTokens)return Object.keys(this.getTokens);if(this.getTokens&&this.filterTokens)return Object.keys(this.getTokens).filter(e=>e.includes(this.filterTokens.toUpperCase()))},notValid(){if(this.receiver)if(this.receiver.includes(".")){if(this.receiver.includes(" "))return!0;if(this.receiver.includes("%"))return!0;if(this.receiver.includes("&"))return!0;if(this.receiver.includes("?"))return!0;if(this.receiver.includes("#"))return!0;if(this.receiver.includes("/"))return!0;if(this.tokenAmount){if(isNaN(this.tokenAmount))return!0;if(Number(this.tokenAmount)<=0)return!0;if(Number(this.tokenAmount)>Number(this.tokenBalance))return!0}else return!0}else return!0;else return!0;return!1}}),methods:{async getTokenBalance(e){const t=this.getTokens[e];if(t==="0x0")this.tokenBalance=Y(this.balance);else{const i=new b(he),a=new g(t,i,this.signer),s=await a.balanceOf(this.address);if(Number(s)>0){const o=await a.decimals();this.selectedTokenDecimals=Number(o),this.tokenBalance=Ze(s,this.selectedTokenDecimals)}else this.tokenBalance=0}},selectToken(e){this.selectedToken=e,this.getTokenBalance(e)},send(){this.getTokens[this.selectedToken]==="0x0"?this.sendNativeTokens():this.sendErc20Tokens()},async sendErc20Tokens(){this.waiting=!0;try{const e=this.selectedToken,t=this.tokenAmount,i=this.domainLowerCase,a=ue(t,this.selectedTokenDecimals),s=this.getTokens[e],o=new b(he),p=await new g(s,o,this.signer).transfer(this.receiverAddress,a);document.getElementById("closeSendModal").click();const _=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+p.hash,"_blank").focus()}),I=await p.wait();I.status===1?(this.toast.dismiss(_),this.toast("You have successfully sent "+t+" "+e+" to "+i+"!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+p.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(_),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+p.hash,"_blank").focus()}),console.log(I),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:c.ERROR})}},async sendNativeTokens(){this.waiting=!0;try{const e=this.selectedToken,t=this.tokenAmount,i=this.domainLowerCase,a=pe(t),s=await this.signer.sendTransaction({to:this.receiverAddress,value:a});document.getElementById("closeSendModal").click();const o=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),r=await s.wait();r.status===1?(this.toast.dismiss(o),this.toast("You have successfully sent "+t+" "+e+" to "+i+"!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(o),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),console.log(r),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:c.ERROR})}},async validateDomainName(){this.validating=!0,this.domainError=null,this.receiverAddress=null;const e=new b(j);try{if(this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const t=this.domainLowerCase.split(".");for(let i in O)if(O[i]["."+t[1]]){const a=this.getFallbackProvider(Number(i)),o=await new g(O[i]["."+t[1]],e,a).getDomainHolder(t[0]);if(o!==$){this.receiverAddress=o,this.validating=!1;return}else{this.domainError="This domain name has not been registered yet.",this.validating=!1;return}break}if(!Q(this.recipient)){this.domainError="This TLD does not exist.",this.validating=!1;return}}}catch{this.domainError="You have entered an incorrect domain.",this.validating=!1;return}}},setup(){const{address:e,balance:t,signer:i}=M(),a=U(),{getFallbackProvider:s}=W();return{address:e,balance:t,getFallbackProvider:s,signer:i,toast:a}},watch:{getChainId(){this.getChainId>=1&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=this.getUserBalance)},address(){this.getTokenBalance(this.selectedToken)}}},Z=e=>(S("data-v-6a05fe72"),e=e(),N(),e),Kc={class:"container text-center"},Yc=Z(()=>n("h3",null,"Send tokens to a domain",-1)),jc={class:"row mt-5"},qc={class:"col-md-6 offset-md-3"},Jc={class:"row mt-4"},zc={class:"col-md-4 offset-md-4"},Xc={class:"input-group"},Zc={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Qc={class:"dropdown-menu p-2"},eu={class:"mb-3"},tu=["onClick"],nu=D(" Balance: "),su=["disabled"],au={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},iu=D(" Send tokens "),ou={class:"modal fade text-start",id:"sendTokensModal",tabindex:"-1","aria-labelledby":"sendTokensModalLabel","aria-hidden":"true"},ru={class:"modal-dialog modal-dialog-centered"},lu={class:"modal-content"},du={class:"modal-header"},cu={class:"modal-title",id:"sendTokensModalLabel"},uu=Z(()=>n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),pu={class:"modal-body"},mu={class:"row mb-3 mt-4"},hu=Z(()=>n("div",{class:"col-sm-3"},[n("strong",null,"Recipient")],-1)),yu={class:"col-sm-9"},fu={key:0,class:"domain-error"},gu={key:0,class:"row mb-3 mt-2"},bu=Z(()=>n("div",{class:"col-sm-3"},[n("strong",null,"Recipient address")],-1)),_u={class:"col-sm-9"},wu={class:"text-break"},vu={key:0,class:"domain-error"},ku={class:"row mb-3 mt-2"},Tu=Z(()=>n("div",{class:"col-sm-3"},[n("strong",null,"Amount")],-1)),Cu={class:"col-sm-9"},Du={class:"text-break"},xu={key:1,class:"row mb-3 mt-2"},Au=Z(()=>n("div",{class:"col-sm-3"},[n("strong",null,"Token address")],-1)),Pu={class:"col-sm-9"},Mu={class:"text-break"},Su={class:"row mb-3 mt-2"},Nu=Z(()=>n("div",{class:"col-sm-3"},[n("strong",null,"Network")],-1)),Eu={class:"col-sm-9"},Bu={class:"text-break"},Uu={class:"modal-footer"},Iu=["disabled"],Ru={key:0},Fu={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},$u={key:2},Ou=Z(()=>n("button",{id:"closeSendModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Vu(e,t,i,a,s,o){return l(),d(F,null,[n("div",Kc,[Yc,n("div",jc,[n("div",qc,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.receiver=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the receiver's domain name"},null,512),[[C,s.receiver]])])]),n("div",Jc,[n("div",zc,[n("div",Xc,[T(n("input",{type:"text",class:"form-control text-end border-2 border-end-0 border-light","onUpdate:modelValue":t[1]||(t[1]=r=>s.tokenAmount=r),placeholder:"0.0"},null,512),[[C,s.tokenAmount]]),n("button",Zc,m(s.selectedToken),1),n("div",Qc,[n("div",eu,[T(n("input",{class:"form-control mb-2",placeholder:"Filter tokens","onUpdate:modelValue":t[2]||(t[2]=r=>s.filterTokens=r)},null,512),[[C,s.filterTokens]]),n("li",null,[(l(!0),d(F,null,ae(o.getTokenNames,r=>(l(),d("button",{class:"dropdown-item",type:"button",onClick:p=>o.selectToken(r)},m(r),9,tu))),256))])])])]),n("small",null,[nu,n("span",{id:"balance",onClick:t[3]||(t[3]=r=>s.tokenAmount=s.tokenBalance)},m(o.formatTokenBalance)+" "+m(s.selectedToken),1)])])]),n("button",{class:"btn btn-primary mt-4 mb-5",disabled:o.notValid||s.waiting,onClick:t[4]||(t[4]=(...r)=>o.validateDomainName&&o.validateDomainName(...r)),"data-bs-toggle":"modal","data-bs-target":"#sendTokensModal"},[s.waiting?(l(),d("span",au)):u("",!0),iu],8,su)]),n("div",ou,[n("div",ru,[n("div",lu,[n("div",du,[n("h5",cu,"Confirm sending "+m(s.selectedToken),1),uu]),n("div",pu,[n("p",null," Please review the data before you send "+m(s.selectedToken)+" to "+m(o.domainLowerCase)+". ",1),n("div",mu,[hu,n("div",yu,[n("span",null,m(o.domainLowerCase),1),s.domainError?(l(),d("span",fu,"Error: "+m(s.domainError),1)):u("",!0)])]),s.receiverAddress?(l(),d("div",gu,[bu,n("div",_u,[n("span",wu,m(s.receiverAddress),1),s.receiverAddress==a.address?(l(),d("span",vu,"Error: You are sending tokens to yourself.")):u("",!0)])])):u("",!0),n("div",ku,[Tu,n("div",Cu,[n("span",Du,m(s.tokenAmount)+" "+m(s.selectedToken),1)])]),e.getTokens[s.selectedToken]!=="0x0"?(l(),d("div",xu,[Au,n("div",Pu,[n("span",Mu,m(e.getTokens[s.selectedToken]),1)])])):u("",!0),n("div",Su,[Nu,n("div",Eu,[n("span",Bu,m(e.getNetworkName),1)])])]),n("div",Uu,[n("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...r)=>o.send&&o.send(...r)),disabled:s.waiting||s.domainError||s.validating},[s.validating?(l(),d("span",Ru,"Validating...")):u("",!0),s.validating?(l(),d("span",Fu)):u("",!0),s.validating?u("",!0):(l(),d("span",$u,"Send "+m(s.selectedToken),1))],8,Iu),Ou])])])])],64)}var Ie=v(Gc,[["render",Vu],["__scopeId","data-v-6a05fe72"]]);const Wu={name:"ProfileSendTokens",components:{TokenSender:Ie,Sidebar:G}},Lu={class:"row"},Hu={class:"col-md-3",id:"sidebar-container"},Gu={class:"col-md-9"};function Ku(e,t,i,a,s,o){const r=k("Sidebar"),p=k("TokenSender");return l(),d("div",Lu,[n("div",Hu,[w(r)]),n("div",Gu,[w(p)])])}var Yu=v(Wu,[["render",Ku]]);const ju={name:"SearchDomains",components:{DomainSearch:Ue}};function qu(e,t,i,a,s,o){const r=k("DomainSearch");return l(),H(r)}var Ju=v(ju,[["render",qu]]);const zu={name:"SendTokens",components:{TokenSender:Ie}};function Xu(e,t,i,a,s,o){const r=k("TokenSender");return l(),H(r)}var Zu=v(zu,[["render",Xu]]);const Qu={name:"TransferDomain",props:["tld","domainName"],components:{Sidebar:G},data(){return{recipient:null,recipientDomain:null,selectedDomain:this.domainName+"."+this.tld,waiting:!1}},computed:h(h({},f("network",["getBlockExplorerBaseUrl"])),f("user",["getUserSelectedName"])),methods:x(h({},z("user",["removeDomainFromUserDomains"])),{async transfer(){this.waiting=!0;const e=new b(j);if(this.recipient&&this.recipient.split(".").length===2){const t=this.recipient.split(".");for(let i in O)if(O[i]["."+t[1]]){const a=this.getFallbackProvider(Number(i)),o=await new g(O[i]["."+t[1]],e,a).getDomainHolder(t[0]);o!==$?(this.recipientDomain=this.recipient,this.recipient=o):(this.toast("The recipient's domain name "+this.recipient+" does not exist.",{type:c.ERROR}),this.waiting=!1);break}Q(this.recipient)||(this.toast("Top-level domain ."+t[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:c.ERROR}),this.waiting=!1)}else this.recipient?Q(this.recipient)||(this.toast("This is not a valid recipient address.",{type:c.ERROR}),this.waiting=!1):(this.toast("This is not a valid recipient address or domain name.",{type:c.ERROR}),this.waiting=!1);if(this.recipient&&Q(this.recipient)){const t=new g(O[this.chainId]["."+this.tld],e,this.signer),i=await t.domains(this.domainName);try{const a=await t.transferFrom(this.address,this.recipient,i.tokenId.toNumber());if(a){const s=this.toast({component:A,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:c.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully transferred the domain!",{type:c.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.removeDomainFromUserDomains(this.domainName+"."+this.tld),this.waiting=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:c.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waiting=!1)}}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:c.ERROR})}}}}),setup(){const{address:e,chainId:t,signer:i}=M(),a=U(),{getFallbackProvider:s}=W();return{address:e,chainId:t,getFallbackProvider:s,signer:i,toast:a}}},ep={class:"row"},tp={class:"col-md-3",id:"sidebar-container"},np={class:"col-md-9"},sp={class:"row"},ap={class:"col-md-12"},ip={class:"container text-center"},op=n("h3",null,"Transfer domain",-1),rp={class:"row mt-5"},lp={class:"col-md-6 offset-md-3"},dp=["value"],cp={class:"row mt-3"},up={class:"col-md-6 offset-md-3"},pp=["disabled"],mp={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},hp=D(" Transfer ");function yp(e,t,i,a,s,o){const r=k("Sidebar");return l(),d("div",ep,[n("div",tp,[w(r)]),n("div",np,[n("div",sp,[n("div",ap,[n("div",ip,[op,n("div",rp,[n("div",lp,[n("input",{value:i.domainName+"."+i.tld,class:"form-control text-center",readonly:""},null,8,dp)])]),n("div",cp,[n("div",up,[T(n("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>s.recipient=p),class:"form-control text-center",placeholder:"Enter recipient's address or domain"},null,512),[[C,s.recipient]])])]),n("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[1]||(t[1]=(...p)=>o.transfer&&o.transfer(...p)),disabled:s.waiting},[s.waiting?(l(),d("span",mp)):u("",!0),hp],8,pp)])])])])])}var fp=v(Qu,[["render",yp]]);const gp=[{path:"/",name:"Home",component:bl},{path:"/about",name:"About",component:Ra},{path:"/admin",name:"Admin",component:Ma},{path:"/allowance",name:"Allowance",component:fi},{path:"/browser",name:"BrowserExtension",component:Di},{path:"/claim-free-domain",name:"ClaimFreeDomain",component:oo},{path:"/domain/:domainChain/:tld/:domainName",name:"DomainDetails",component:Fr,props:!0},{path:"/how",name:"HowItWorks",component:Dl},{path:"/mint-domains",name:"MintDomains",component:Pl},{path:"/profile",name:"Profile",component:Fd},{path:"/profile/buy-domain",name:"ProfileBuyDomain",component:Hd},{path:"/profile/claim-free-domain",name:"ProfileClaimFreeDomain",component:Jd},{path:"/profile/delegate-ftso",name:"ProfileDelegateFtso",component:Mc},{path:"/profile/search-domain",name:"ProfileSearchDomain",component:Hc},{path:"/profile/send-tokens",name:"ProfileSendTokens",component:Yu},{path:"/search-domain",name:"SearchDomains",component:Ju},{path:"/send-tokens",name:"SendTokens",component:Zu},{path:"/transfer/:tld/:domainName",name:"TransferDomain",component:fp,props:!0},{path:"/:pathMatch(.*)*",name:"404",component:()=>Jt(()=>import("./Error404.a3fab265.js"),["assets/Error404.a3fab265.js","assets/Error404.8c4a0b00.css","assets/vendor.b315722d.js"])}],bp=Qe({history:et(),routes:gp});var _p={"19":{SGB:"0x0",WSGB:"0x02f0826ef6aD107Cfc861152B32B52fD11BaB9ED",SFORT:"0x9E2E6c16803878C18E54Ed74F05AeafCCe464626",PSB:"0xb2987753D1561570f726Aa373F48E77e27aa5FF4",EXFI:"0xC348F894d0E939FE72c467156E6d7DcbD6f16e21",SFIN:"0x0D94e59332732D18CF3a3D457A8886A2AE29eA1B",COOT:"0xe4671844Fcb3cA9A80A1224B6f9A0A6c2Ba2a7d5",sRIBBITS:"0x399E279c814a3100065fceaB8CbA1aB114805344"}};const{chainId:de}=M();var wp={namespaced:!0,state:()=>({networkCurrency:"SGB",networkName:"Unsupported Network",supportedNetworks:{19:"Songbird"}}),getters:{getBlockExplorerBaseUrl(){return"https://songbird-explorer.flare.network/"},getChainId(){return de.value},getNetworkCurrency(e){return e.networkCurrency},getNetworkName(e){const t=Object.keys(e.supportedNetworks);return t&&t.includes(String(de.value))?e.networkName:"Unsupported Network"},getSupportedNetworks(e){return e.supportedNetworks},getSupportedNetworkIds(e){return Object.keys(e.supportedNetworks)},getSupportedNetworkNames(e){return Object.values(e.supportedNetworks)},getTokens(e){return _p[String(de.value)]},isNetworkSupported(e){const t=Object.keys(e.supportedNetworks);return!!(t&&t.includes(String(de.value)))}},mutations:{setNetworkData(e){e.networkName="Songbird",e.networkCurrency="SGB"}},actions:{}};const{address:B,balance:Re,chainId:re,signer:se}=M();var vp={namespaced:!0,state:()=>({canUserBuy:!1,discountEligible:!1,freeMintEligible:!1,isTldAdmin:!1,isMinterAdmin:!1,isRoyaltyFeeUpdater:!1,nftAddress:"0x927463265eDE6a52604D179d7110B7B2fc057a3f",selectedName:null,selectedNameData:null,selectedNameImageSvg:null,selectedNameKey:null,tokenAddress:"",tokenContract:null,tokenAllowance:0,tokenBalance:0,tokenName:"SGB",tokenDecimals:18,userAddress:null,userAllDomainNames:[],userDomainNamesKey:null,userShortAddress:null,userBalanceWei:0,userBalance:0}),getters:{getCanUserBuy(e){return e.canUserBuy},getDiscountEligible(e){return e.discountEligible},getFreeMintEligible(e){return e.freeMintEligible},getUserAddress(e){return e.userAddress},getUserBalance(e){return e.userBalance},getUserBalanceWei(e){return e.userBalanceWei},getUserAllDomainNames(e){return e.userAllDomainNames},getUserSelectedName(e){return e.selectedName},getUserSelectedNameData(e){return e.selectedNameData},getUserSelectedNameImageSvg(e){return e.selectedNameImageSvg},getUserShortAddress(e){return e.userShortAddress},getPaymentTokenAddress(e){return e.tokenAddress},getPaymentTokenAllowance(e){return e.tokenAllowance},getPaymentTokenBalance(e){return e.tokenBalance},getPaymentTokenContract(e){return e.tokenContract},getPaymentTokenName(e){return e.tokenName},getPaymentTokenDecimals(e){return e.tokenDecimals},isUserRoyaltyFeeUpdater(e){return e.isRoyaltyFeeUpdater},isUserMinterAdmin(e){return e.isMinterAdmin},isUserTldAdmin(e){return e.isTldAdmin}},mutations:{addDomainManually(e,t){let i=[];if(B.value){e.userDomainNamesKey="userDomainNames"+String(re.value)+String(te(B.value)),e.selectedNameKey="selectedName"+String(re.value)+String(te(B.value)),localStorage.getItem(e.userDomainNamesKey)&&(i=JSON.parse(localStorage.getItem(e.userDomainNamesKey))),i.includes(t)||i.push(t);for(let a of i)e.userAllDomainNames.includes(a)||e.userAllDomainNames.push(a);localStorage.setItem(e.userDomainNamesKey,JSON.stringify(i))}},addUserBalance(e,t){e.userBalance+=t},setUserData(e){e.userAddress=B.value,e.userShortAddress=te(B.value),e.userBalanceWei=Re.value,e.userBalance=tt(Re.value)},setCanUserBuy(e,t){e.canUserBuy=t},setCanGetDiscount(e,t){e.discountEligible=t},setDefaultName(e,t){e.userAllDomainNames.includes(t)||e.userAllDomainNames.push(t)},setFreeMintEligible(e,t){e.freeMintEligible=t},setIsRoyaltyFeeUpdater(e,t){e.isRoyaltyFeeUpdater=t},setIsMinterAdmin(e,t){e.isMinterAdmin=t},setIsTldAdmin(e,t){e.isTldAdmin=t},setSelectedName(e,t){e.selectedName=t,localStorage.setItem(e.selectedNameKey,e.selectedName),localStorage.setItem("connected","metamask")},setSelectedNameKey(e,t){e.selectedNameKey=t},setSelectedNameData(e,t){e.selectedNameData=t},setSelectedNameImageSvg(e,t){e.selectedNameImageSvg=t},setUserDomainNamesKey(e,t){e.userDomainNamesKey=t},setPaymentTokenAllowance(e,t){e.tokenAllowance=t},setPaymentTokenBalance(e,t){e.tokenBalance=t},setPaymentTokenContract(e,t){e.tokenContract=t},setUserAllDomainNames(e,t){e.userAllDomainNames=t},subtractUserBalance(e,t){e.userBalance-=t}},actions:{async checkIfAdmin({commit:e,rootGetters:t}){if(B.value){const i=new b(V);await new g(t["tld/getMinterAddress"],i,se.value).owner()===B.value?e("setIsMinterAdmin",!0):e("setIsMinterAdmin",!1);const o=new b(j);await new g(t["tld/getTldAddress"],o,se.value).owner()===B.value?e("setIsTldAdmin",!0):e("setIsTldAdmin",!1)}},async fetchUserDomainNames({dispatch:e,commit:t,state:i,rootState:a,rootGetters:s},o){let r=[],p=null,_=null;if(B.value){e("fetchCanUserBuy"),p="userDomainNames"+String(re.value)+String(te(B.value)),_="selectedName"+String(re.value)+String(te(B.value)),t("setSelectedNameKey",_),t("setUserDomainNamesKey",p),o&&(localStorage.getItem(_)&&localStorage.getItem(_)!==String(null)?t("setSelectedName",localStorage.getItem(_)):(t("setSelectedName",null),t("setSelectedNameData",null),t("setSelectedNameImageSvg",null)),t("setUserAllDomainNames",[])),localStorage.getItem(p)&&(r=JSON.parse(localStorage.getItem(p)));for(let J of r)t("setDefaultName",J);const I=new b(s["punk/getTldAbi"]),R=await new g(s["tld/getTldAddress"],I,se.value).defaultNames(B.value);R&&(t("setDefaultName",R+a.tld.tldName),r.includes(R+a.tld.tldName)||r.push(R+a.tld.tldName),i.selectedName||t("setSelectedName",R+a.tld.tldName)),localStorage.getItem(_)&&localStorage.getItem(_)!==String(null)?t("setSelectedName",localStorage.getItem(_)):localStorage.setItem(_,i.selectedName),localStorage.setItem(p,JSON.stringify(r)),e("fetchSelectedNameData")}},async fetchCanUserBuy({commit:e,rootGetters:t}){if(B.value){const i=new b(V),a=new g(t["tld/getMinterAddress"],i,se.value),s=await a.canUserMint(B.value);e("setCanUserBuy",s);const o=await a.canGetDiscount(B.value);e("setCanGetDiscount",o);const r=await a.canClaimFreeDomain(B.value);e("setFreeMintEligible",r)}},async fetchSelectedNameData({commit:e,state:t,rootGetters:i}){if(t.selectedName){const s=t.selectedName.split(".")[0];if(s){const o=new b(i["punk/getTldAbi"]),r=new g(i["tld/getTldAddress"],o,se.value),p=await r.domains(s);e("setSelectedNameData",p);let _=await r.tokenURI(p.tokenId),I=!1;if(p.data){const P=JSON.parse(p.data);if(P.imgAddress){if(!P.imgAddress.startsWith("0x"))e("setSelectedNameImageSvg",P.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/")),I=!0;else if(P.imgAddress){const R=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);_=await new g(P.imgAddress,R,se.value).tokenURI(P.imgTokenId)}}if(_.includes("ipfs://")&&(_=_.replace("ipfs://","https://ipfs.io/ipfs/")),_.includes("http")){const J=await(await fetch(_)).json();J&&J.image?(e("setSelectedNameImageSvg",J.image.replace("ipfs://","https://ipfs.io/ipfs/")),I=!0):e("setSelectedNameImageSvg",null)}}if(_&&!I){const P=atob(_.substring(29)),R=JSON.parse(P);R&&R.image?e("setSelectedNameImageSvg",R.image):e("setSelectedNameImageSvg",null)}}}},async removeDomainFromUserDomains({commit:e,state:t},i){if(re.value&&localStorage.getItem(t.userDomainNamesKey)){const a=JSON.parse(localStorage.getItem(t.userDomainNamesKey));t.userAllDomainNames=[];let s=[];for(let o of a)o!=i&&(s.push(o),t.userAllDomainNames.push(o));localStorage.setItem(t.userDomainNamesKey,JSON.stringify(s)),localStorage.getItem(t.selectedNameKey)&&localStorage.getItem(t.selectedNameKey)==i&&(s.length>0&&e("setSelectedName",s[0]),e("setSelectedName",null))}}}},kp={namespaced:!0,getters:{getTldAbi(){return j}}};const{getFallbackProvider:Fe}=W();var Tp={namespaced:!0,state:()=>({discountPercentage:60,tldName:".satrap",tldAddress:"0xeFBE0b46649B7A0F1e1D49CCa98aD9CF6bcFB096",tldContract:null,tldChainId:19,tldChainName:"Songbird",minterAddress:"0x7A4fF9f86478B4B2a16BC0a009257973d501F5D0",minterContract:null,minterPaused:!0,minterTldPrice1:5e4,minterTldPrice2:2e4,minterTldPrice3:8e3,minterTldPrice4:2500,minterTldPrice5:1e3,referralFee:1e3}),getters:{getMinterDiscountPercentage(e){return e.discountPercentage},getTldAddress(e){return e.tldAddress},getTldContract(e){return e.tldContract},getTldChainId(e){return e.tldChainId},getTldChainName(e){return e.tldChainName},getTldName(e){return e.tldName},getMinterAddress(e){return e.minterAddress},getMinterContract(e){return e.minterContract},getMinterPaused(e){return e.minterPaused},getMinterTldPrice1(e){return e.minterTldPrice1},getMinterTldPrice2(e){return e.minterTldPrice2},getMinterTldPrice3(e){return e.minterTldPrice3},getMinterTldPrice4(e){return e.minterTldPrice4},getMinterTldPrice5(e){return e.minterTldPrice5},getReferralFee(e){return e.referralFee}},mutations:{setTldContract(e){let t=Fe(e.tldChainId);const i=new b(j);e.tldContract=new g(e.tldAddress,i,t)},setMinterContract(e,t){e.minterContract=t},setDiscountPercentage(e,t){let i=0;t>0&&(i=t/100),e.discountPercentage=i},setMinterPaused(e,t){e.minterPaused=t},setMinterTldPrice1(e,t){e.minterTldPrice1=t},setMinterTldPrice2(e,t){e.minterTldPrice2=t},setMinterTldPrice3(e,t){e.minterTldPrice3=t},setMinterTldPrice4(e,t){e.minterTldPrice4=t},setMinterTldPrice5(e,t){e.minterTldPrice5=t},setReferralFee(e,t){e.referralFee=Number(t)}},actions:{async fetchMinterContractData({commit:e,state:t}){let i=Fe(t.tldChainId);const a=new b(V),s=new g(t.minterAddress,a,i),o=await s.paused();e("setMinterPaused",o);const r=await s.price1char(),p=Y(r);e("setMinterTldPrice1",p);const _=await s.price2char(),I=Y(_);e("setMinterTldPrice2",I);const P=await s.price3char(),R=Y(P);e("setMinterTldPrice3",R);const J=await s.price4char(),$e=Y(J);e("setMinterTldPrice4",$e);const Oe=await s.price5char(),Ve=Y(Oe);e("setMinterTldPrice5",Ve);const We=await s.discountBps();e("setDiscountPercentage",We);const Le=await s.referralFee();e("setReferralFee",Le)}}};const Cp=nt({modules:{network:wp,user:vp,punk:kp,tld:Tp}});const le=st(Yt),Dp={timeout:5e3,hideProgressBar:!0,closeButton:"button",position:at.TOP_LEFT,toastClassName:"punk-toast-class",closeOnClick:!1,toastDefaults:{[c.INFO]:{timeout:!1,icon:!1}}};le.use(bp);le.use(Cp);le.use(it,{infuraId:"not-needed-but-should-not-be-empty-either"});le.use(ot,Dp);le.mount("#app");export{v as _};
